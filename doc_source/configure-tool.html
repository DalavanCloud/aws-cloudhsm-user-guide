<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Configure Tool - AWS CloudHSM</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="home" href="#top" />
      <link rel="up" href="command-line-tools.html" title="AWS CloudHSM Command Line Tools" />
      <link rel="prev" href="key-attribute-table.html" title="Key Attribute Reference" />
      <link rel="next" href="use-hsm.html" title="Using the AWS CloudHSM Software Libraries" />
      <meta name="description" content="Use the Configure command line tool to update the HSM data used by the AWS CloudHSM client software, key_mgmt_util, and cloudhsm_mgmt_util." />
      <meta name="keywords" content="CloudHSM,HSM,hardware security module,HSM appliance,hardware security module appliance,cryptographic key storage,encryption key storage,cryptographic processing,cryptographic operations,cryptographic offload" />
      <meta name="deployment_region" content="SEA" />
      <meta name="product" content="AWS CloudHSM" />
      <meta name="guide" content="User Guide" />
      <meta name="guide-locale" content="en_us" />
      <link rel="icon" type="image/ico" href="images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="images/favicon.ico" />
      <link rel="canonical" href="https://alpha-docs-aws.amazon.com/cloudhsm/latest/userguide/configure-tool.html" />
      <link rel="stylesheet" type="text/css" href="css/jquery-ui.min.css" />
      <link rel="stylesheet" type="text/css" href="font/css/font-awesome.min.css" />
      <link rel="stylesheet" type="text/css" href="css/google-font.css" />
      <link id="code-style" rel="stylesheet" type="text/css" href="css/code/light.css" />
      <link rel="stylesheet" type="text/css" href="css/jquery-ui.theme.css" />
      <link rel="stylesheet" type="text/css" href="css/colorbox.css" />
      <link rel="stylesheet" type="text/css" href="css/awsdocs.css?v=20181116" /><script type="text/javascript" src="js/highlight.pack.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/jquery-ui.min.js"></script><script type="text/javascript" src="js/jquery.colorbox.js"></script><script type="text/javascript" src="js/awsdocs.min.js?v=20181116"></script></head>
   <body id="top">
      <div xmlns:db="http://docbook.org/ns/docbook" id="aws-nav" class="aws-nav-header">
         <div class="aws-nav-header-left">
            <div class="aws-nav-logo">
               <!--aws_logo_105x39.png--><a href="http://aws.amazon.com"><img src="images/aws_logo_105x39.png" alt="Amazon Web Services" /></a></div>
         </div>
         <div id="aws-nav-header-right" class="aws-nav-header-right">
            <div class="aws-nav-cta-button-outer"><a id="aws-nav-cta-button" class="aws-nav-button" href="https://console.aws.amazon.com/console/home">Sign In to the Console</a></div>
            <div class="aws-nav-popover-trigger" data-dropdown="aws-nav-dropdown-lang"><select id="languageSelection" onchange="SelectLanguage()">
                  <option value="/de_de/cloudhsm/latest/userguide/configure-tool.html">Deutsch</option>
                  <option value="/en_us/cloudhsm/latest/userguide/configure-tool.html" selected="selected">English</option>
                  <option value="/es_es/cloudhsm/latest/userguide/configure-tool.html">Español</option>
                  <option value="/fr_fr/cloudhsm/latest/userguide/configure-tool.html">Français</option>
                  <option value="/it_it/cloudhsm/latest/userguide/configure-tool.html">Italiano</option>
                  <option value="/ja_jp/cloudhsm/latest/userguide/configure-tool.html">日本語</option>
                  <option value="/ko_kr/cloudhsm/latest/userguide/configure-tool.html">한국어</option>
                  <option value="/pt_br/cloudhsm/latest/userguide/configure-tool.html">Português</option>
                  <option value="/zh_cn/cloudhsm/latest/userguide/configure-tool.html">中文 (简体)</option>
                  <option value="/zh_tw/cloudhsm/latest/userguide/configure-tool.html">中文 (繁體)</option></select></div><a class="btn btn-rss-link" id="rss-link-top" target="_blank" href="amazon-cloudhsm-release-notes.rss" title="View RSS Feed"></a><a class="btn btn-kindle-link" id="kindle-link-top" target="_blank" href="http://www.amazon.com/dp/B079BV9BS8" title="Open Kindle"></a><a class="btn btn-pdf-link" id="pdf-link-top" href="cloudhsm-user-guide.pdf#configure-tool" target="_blank" title="Open PDF"></a><a class="btn btn-github-link" id="github-link-top" href="https://github.com/awsdocs/aws-cloudhsm-user-guide/tree/master/doc_source/configure-tool.md" target="_blank" title="Edit on GitHub"></a><div id="aws-nav-quicklinks-separator" class="aws-nav-quicklinks-separator">
               <div class="aws-nav-left"></div>
               <div class="aws-nav-right"></div>
            </div>
         </div>
      </div>
      <div id="content-container">
         <div id="left-column">
            <div id="left-col-header">
               <div xmlns:db="http://docbook.org/ns/docbook" id="left-col-top-content">
                  <div id="service-name">AWS CloudHSM </div>
                  <div id="search"><i id="search-icon" class="fa fa-search fa-2x"></i></div>
                  <div id="guide-info">User Guide
                     <div id="content-button"><i id="toggle-contents" class="fa fa-bars"></i></div>
                  </div>
               </div>
               <form id="finegrainedSearch" method="get" onsubmit="return searchFormSubmit(this);" action="/search/doc-search.html">
                  <div id="search-form"><select id="search-select" name="searchPath">
                        <option value="all">Entire Site</option>
                        <option value="AWSMarketplace">AMIs from AWS Marketplace</option>
                        <option value="amis">AMIs from All Sources</option>
                        <option value="articles">Articles &amp; Tutorials</option>
                        <option value="products_and_info">AWS Product Information</option>
                        <option value="case_studies">Case Studies</option>
                        <option value="customerapps">Customer Apps</option>
                        <option value="documentation">Documentation</option>
                        <option value="documentation-product">Documentation - This Product</option>
                        <option value="documentation-guide" selected="selected">Documentation - This Guide</option>
                        <option value="datasets">Public Data Sets</option>
                        <option value="releasenotes">Release Notes</option>
                        <option value="solution_providers">Partners</option>
                        <option value="code">Sample Code &amp; Libraries</option></select><br /><input id="search-query" name="searchQuery" type="text" placeholder="Search" /><input id="search-button" src="images/search-button.png" alt="Go" type="image" /></div><input type="hidden" name="this_doc_product" id="this_doc_product" value="AWS CloudHSM" /><input type="hidden" name="this_doc_guide" id="this_doc_guide" value="User Guide" /><input type="hidden" name="doc_locale" value="en_us" /></form>
            </div>
            <div id="toc">
               <ul class="awstoc">
                  <li class="awstoc closed"><a class="awstoc" href="introduction.html">What Is AWS CloudHSM?</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="use-cases.html">Use Cases</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="clusters.html">Clusters</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="backups.html">Backups</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="client-tools-and-libraries.html">Client Tools and Libraries</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="hsm-users.html">HSM Users</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="compliance.html">Compliance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="pricing.html">Pricing</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="regions.html">Regions</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="limits.html">Limits</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="getting-started.html">Getting Started</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="create-iam-user.html">Create IAM Administrators</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-vpc.html">Create a VPC</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-subnets.html">Create a Private Subnet</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-cluster.html">Create a Cluster</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="launch-client-instance.html">Launch an EC2 Client</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-hsm.html">Create an HSM</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="verify-hsm-identity.html">Verify HSM Identity (Optional)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="initialize-cluster.html">Initialize the Cluster</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="install-and-configure-client-linux.html">Install the Client (Linux)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="install-and-configure-client-win.html">Install the Client (Windows)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="activate-cluster.html">Activate the Cluster</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="getting-started-ssl.html">Reconfigure SSL (Optional)</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="manage-clusters.html">Managing Clusters</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="add-remove-hsm.html">Adding or Removing HSMs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="copy-backup-to-region.html">Copying a Backup Across Regions</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-cluster-from-backup.html">Creating a Cluster From a Backup</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="delete-restore-backup.html">Deleting and Restoring a Backup</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="delete-cluster.html">Deleting a Cluster</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="tag-resources.html">Tagging Resources</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="manage-hsm-users-and-keys.html">Managing HSM Users and Keys</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="manage-hsm-users.html">Managing HSM Users</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="manage-keys.html">Managing Keys</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="quorum-authentication.html">Quorum Authentication (M of N)</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="quorum-authentication-crypto-officers-first-time-setup.html">First Time Setup for Crypto Officers</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="quorum-authentication-crypto-officers.html">Quorum Authentication for Crypto Officers</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="quorum-authentication-crypto-officers-change-minimum-value.html">Change the Quorum Value for Crypto Officers</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc opened"><a class="awstoc" href="command-line-tools.html">Command Line Tools</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="cloudhsm_mgmt_util.html">cloudhsm_mgmt_util</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getting-started.html">Getting Started</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="cloudhsm_mgmt_util-reference.html">Reference</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-changePswd.html">changePswd</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-createUser.html">createUser</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-deleteUser.html">deleteUser</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-findAllKeys.html">findAllKeys</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getAttribute.html">getAttribute</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getCert.html">getCert</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getHSMInfo.html">getHSMInfo</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getKeyInfo.html">getKeyInfo</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-info.html">info</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-listAttributes.html">listAttributes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-listUsers.html">listUsers</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-loginLogout.html">loginHSM and logoutHSM</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-server.html">server</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-setAttribute.html">setAttribute</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-quit.html">quit</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-shareKey.html">shareKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-syncKey.html">syncKey</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="key_mgmt_util.html">key_mgmt_util</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-getting-started.html">Getting Started</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="key_mgmt_util-reference.html">Reference</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-aesWrapUnwrap.html">aesWrapUnwrap</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-deleteKey.html">deleteKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-Error2String.html">Error2String</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-exSymKey.html">exSymKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-findKey.html">findKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-findSingleKey.html">findSingleKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genDSAKeyPair.html">genDSAKeyPair</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genECCKeyPair.html">genECCKeyPair</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genPBEKey.html">genPBEKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genRSAKeyPair.html">genRSAKeyPair</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genSymKey.html">genSymKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-getAttribute.html">getAttribute</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-getKeyInfo.html">getKeyInfo</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-imSymKey.html">imSymKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-listAttributes.html">listAttributes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-listUsers.html">listUsers</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-setAttribute.html">setAttribute</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-unwrapKey.html">unWrapKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-wrapKey.html">wrapKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key-attribute-table.html">Key Attribute Reference</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc selected" href="configure-tool.html">Configure Tool</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="use-hsm.html">Using the Software Libraries</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="pkcs11-library.html">PKCS #11 Library</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-library-install.html">Installing the PKCS #11 Library</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-pin.html">Authenticating to PKCS #11</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-key-types.html">Supported PKCS #11 Key Types</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-mechanisms.html">Supported PKCS #11 Mechanisms</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-apis.html">Supported PKCS #11 API operations</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="openssl-library.html">OpenSSL Dynamic Engine</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="openssl-library-install.html">Installing the OpenSSL Dynamic Engine</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="java-library.html">Java Library</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="java-library-install.html">Installing the Java Library</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="java-lib-supported.html">Supported Mechanisms</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="java-library-sample.html">Sample Prerequisites</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="java-samples.html">Java Samples</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="ksp-library.html">KSP and CNG Providers</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="ksp-library-install.html">Install the Providers</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ksp-library-prereq.html">Prerequisites</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ksp-library-sample.html">Code Sample</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="third-party-applications.html">Integrating Third-Party Applications</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="ssl-offload.html">SSL/TLS Offload</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-overview.html">How It Works</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="ssl-offload-linux.html">SSL/TLS Offload on Linux</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-prerequisites.html">Step 1: Set Up the Prerequisites</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-import-or-generate-private-key-and-certificate.html">Step 2: Generate or Import a Private Key and SSL/TLS Certificate</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-configure-web-server.html">Step 3: Configure the Web Server</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-enable-traffic-and-verify-certificate.html">Step 4: Enable HTTPS Traffic and Verify the Certificate</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-add-load-balancing.html">(Optional) Step 5: Add a Load Balancer with Elastic Load Balancing</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="ssl-offload-windows.html">SSL/TLS Offload on Windows</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-prerequisites-windows.html">Step 1: Set Up the Prerequisites</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-windows-create-csr-and-certificate.html">Step 2: Create a Certificate Signing Request (CSR) and Certificate</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-configure-web-server-windows.html">Step 3: Configure the Web Server</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-enable-traffic-and-verify-certificate-windows.html">Step 4: Enable HTTPS Traffic and Verify the Certificate</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-add-load-balancing-windows.html">(Optional) Step 5: Add a Load Balancer with Elastic Load Balancing</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="win-ca-overview.html">Windows Server CA</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="win-ca-prerequisites.html">Set Up Prerequisites</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="win-ca-setup.html">Create Windows Server CA</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="win-ca-sign-csr.html">Sign a CSR</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="oracle-tde.html">Oracle Database Encryption</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="oracle-tde-prerequisites.html">Set Up Prerequisites</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="oracle-tde-configure-database-and-generate-master-key.html">Configure the Database</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="get-logs.html">Monitoring Logs</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="hsm-client-logs.html">Getting Client Logs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="get-api-logs-using-cloudtrail.html">Logging AWS CloudHSM API Calls with AWS CloudTrail</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="get-hsm-audit-logs-using-cloudwatch.html">Monitoring Audit Logs</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="get-audit-logs-from-cloudwatch.html">How Audit Logging Works</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="understand-audit-logs.html">Viewing Audit Logs in CloudWatch Logs</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="interpreting-audit-logs.html">Interpreting HSM Audit Logs</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="cloudhsm-audit-log-reference.html">Audit Log Reference</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="hsm-metrics.html">Getting Metrics</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="hsm-metrics-cw.html">Getting CloudWatch Metrics</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="troubleshooting.html">Troubleshooting</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="KnownIssues.html">Known Issues</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-lost-connection.html">Lost Connection</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-keep-hsm-users-in-sync.html">Keep HSM Users In Sync</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-verify-hsm-performance.html">Verify Performance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-create-cluster.html">Resolving Cluster Creation Failures</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-missing-audit-logs.html">Missing AWS CloudHSM Audit Logs in CloudWatch</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="client-and-software-version-history.html">Client and Software Information</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="client-history.html">Version History</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="client-supported-platforms.html">Supported Platforms</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="document-history.html">Document History</a></li>
                  <li id="toc-additional-links"><a class="btn btn-pdf-link" id="pdf-link-alt" href="cloudhsm-user-guide.pdf#top" target="_blank" title="Open PDF"></a><a class="btn btn-kindle-link" id="kindle-link-alt" target="_blank" href="http://www.amazon.com/dp/B079BV9BS8" title="Open Kindle"></a><a class="btn btn-rss-link" id="rss-link-alt" target="_blank" href="amazon-cloudhsm-release-notes.rss" title="View RSS Feed"></a></li>
               </ul>
            </div>
         </div>
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> » <a href="/cloudhsm/index.html">AWS CloudHSM</a> » <a href="index.html">User Guide</a> » <a href="command-line-tools.html">AWS CloudHSM Command Line Tools</a> » <span class="breadcrumb">Configure Tool</span></div>
                           </td>
                        </tr>
                     </table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div id="SEARegionDisclaimer">This prerelease documentation is confidential and is provided under the terms of your
                        nondisclosure agreement with Amazon Web Services (AWS) or other agreement governing
                        your receipt of AWS confidential information.
                     </div>
                     <div></div>
                     <h1 class="topictitle" id="configure-tool">Configure Tool</h1>
                     <p>AWS CloudHSM automatically synchronizes data among all HSMs in a cluster. The <b>Configure</b> 
                        	tool updates the HSM data in the configuration files that the synchronization mechanisms
                        use. Use 
                        	<b>Configure</b> to refresh the HSM data before you use the command line tools, especially 
                        	when the HSMs in the cluster have changed.
                        
                     </p>
                     <p>Before using the key_mgmt_util tool, run <code class="code">configure -a</code>. Before using the cloudhsm_mgmt_util tool, run 
                        		<code class="code">configure -a</code> and then run <code class="code">configure -m</code>. You can also run <code class="code">configure --ssl</code>
                        		to update SSL keys and certificates.
                        	
                     </p>
                     <p>You can also use the <b>Configure</b> tool to update SSL keys and certificates.
                     </p>
                     
                     <h2 id="configure-tool-syntax">Syntax</h2>
                     
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">configure -h | --help

configure -a <em class="replaceable"><code>&lt;ENI IP address&gt;</code></em>

configure -m [-i <em class="replaceable"><code>&lt;daemon_id&gt;</code></em>]
    	
configure --ssl --pkey <em class="replaceable"><code>&lt;private key file&gt;</code></em> --cert <em class="replaceable"><code>&lt;certificate file&gt;</code></em>
</code></pre>
                     
                     <h2 id="configure-tool-examples">Examples</h2>
                     	
                     
                     <p>These examples show how to use the <b>Configure</b> tool.
                     </p>
                     
                     <div class="example">
                        <p class="title"><b>Example : Update the HSM Data for the AWS CloudHSM Client and key_mgmt_util</b></p>
                        <div class="example-contents">
                           <p>This example uses the <code class="code">configure -a</code> command to update the HSM data for the
                              AWS CloudHSM client and key_mgmt_util. This command is also the first step in updating
                              the cloudhsm_mgmt_util
                              configuration file.
                              
                           </p>
                           <p>Before running <code class="code">configure -a</code>, stop the AWS CloudHSM client. This prevents conflicts
                              that might occur while <b>Configure</b> edits the client's configuration file.
                              If the client is already stopped, this command has no ill effects, so you can use
                              it in a
                              script.
                              
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="bash "><code class="prompt" copy="false">$ </code> <strong class="userinput"><code>sudo stop cloudhsm-client</code></strong>
	
<code class="computeroutput" copy="false">cloudhsm-client stop/waiting</code>
	
</code></pre><p>Next, get the ENI IP address of any one of the HSMs in your cluster. This command
                              uses
                              the <a href="https://alpha-docs-aws.amazon.com/cli/latest/reference/cloudhsmv2/describe-clusters.html" target="_blank">describe-clusters</a>
                              command in the AWS CLI, but you can also use the 
                              	<a href="https://alpha-docs-aws.amazon.com/cloudhsm/latest/APIReference/API_DescribeClusters.html" target="_blank">DescribeClusters</a> operation or 
                              	the
                              <a href="https://alpha-docs-aws.amazon.com/powershell/latest/reference/items/Get-HSM2Cluster.html" target="_blank">Get-HSM2Cluster</a> PowerShell
                              cmdlet.
                              
                           </p>
                           <p>This excerpt of the output shows the ENI IP addresses of the HSMs in a sample cluster.
                              We can use either of the IP addresses in the next command.
                              
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="bash "><code class="prompt" copy="false">$ </code> <strong class="userinput"><code>aws cloudhsmv2 describe-clusters</code></strong>
	
<code class="computeroutput" copy="false">
{
    "Clusters": [
        { ... }
            "Hsms": [
                {
...
                    "EniIp": "10.0.0.9",
...
                },
                {
...
                    "EniIp": "10.0.1.6",
...</code>
</code></pre><p>This step uses <b>configure -a</b> to add the <code class="code">10.0.0.9</code> ENI IP address 
                              	to the configurations files. 
                              
                           </p>
                           <p>The output shows that <b>Configure</b> added <code class="code">10.0.0.9</code> to the
                              <code>cloudhsm_client.cfg</code> and <code>cloudhsm_mgmt_util.cfg</code> files.
                              
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="bash "><code class="prompt" copy="false">$ </code> <strong class="userinput"><code>sudo /opt/cloudhsm/bin/configure -a 10.0.0.9</code></strong>

<code class="computeroutput" copy="false">Updating server config in /opt/cloudhsm/etc/cloudhsm_client.cfg
Updating server config in /opt/cloudhsm/etc/cloudhsm_mgmt_util.cfg</code>
</code></pre><p>Next, restart the AWS CloudHSM client. When the client starts, it uses the ENI IP
                              address in its
                              configuration file to query the cluster. Then, it writes the ENI IP addresses of all
                              HSMs in
                              the cluster to the <code>cluster.info</code> file.
                              
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="bash "><code class="prompt" copy="false">$ </code> <strong class="userinput"><code>sudo start cloudhsm-client</code></strong>

<code class="computeroutput" copy="false">cloudhsm-client start/running, process 2747</code>
</code></pre><p>When the command completes, the HSM data that the AWS CloudHSM client and key_mgmt_util
                              use is complete
                              and accurate. Before using cloudhsm_mgmt_util, run the <b>configure -m</b> command, as shown
                              in the following example.
                              
                           </p>
                        </div>
                     </div>
                     
                     	
                     <div class="example">
                        <p class="title"><b>Example : Update the HSM Data for cloudhsm_mgmt_util</b></p>
                        <div class="example-contents">
                           <p>This example uses the <b>configure -m</b> command to copy the update the
                              updated HSM data from the <code>cluster.info</code> file to the <code>cloudhsm_mgmt_util.cfg</code> 
                              	file that cloudhsm_mgmt_util uses.
                              
                           </p>
                           <p>Before running <b>configure -m</b>, stop the AWS CloudHSM client, run <code class="code">configure -a</code>, 
                              	and then restart the AWS CloudHSM client, as shown in the 
                              	previous example. This ensures that the data copied into the 
                              	<code>cloudhsm_mgmt_util.cfg</code> file from the <code>cluster.info</code> file is complete 
                              	and accurate.
                              
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="bash "><code class="prompt" copy="false">$ </code> <strong class="userinput"><code>sudo /opt/cloudhsm/bin/configure -m</code></strong>
<code class="computeroutput" copy="false">Updating '/opt/cloudhsm/etc/cloudhsm_mgmt_util.cfg' from cluster state</code>
</code></pre></div>
                     </div>
                     
                     
                     <h2 id="configure-tool-params">Parameters</h2>
                     
                     
                     <div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><b><span class="term">-h | --help</span></b></dt>
                           
                           <dd>
                              
                              <p>Displays command syntax.</p>
                              
                              <p>Required: Yes</p>
                              
                           </dd>
                           
                           
                           <dt><b><span class="term">-a <em class="replaceable"><code>&lt;ENI IP address&gt;</code></em></span></b></dt>
                           
                           <dd>
                              
                              <p>Adds the specified HSM elastic network interface (ENI) IP address to AWS CloudHSM
                                 configuration files. Enter the ENI IP address of any one of the HSMs in the cluster.
                                 It
                                 does not matter which one you select. 
                                 
                              </p>
                              	
                              
                              <p>To get the ENI IP addresses of the HSMs in your cluster, use the 
                                 	<a href="https://alpha-docs-aws.amazon.com/cloudhsm/latest/APIReference/API_DescribeClusters.html" target="_blank">DescribeClusters</a> operation, the
                                 <a href="https://alpha-docs-aws.amazon.com/cli/latest/reference/cloudhsmv2/describe-clusters.html" target="_blank">describe-clusters</a> AWS CLI 
                                 	command, or the 
                                 	<a href="https://alpha-docs-aws.amazon.com/powershell/latest/reference/items/Get-HSM2Cluster.html" target="_blank">Get-HSM2Cluster</a> PowerShell cmdlet.
                                 
                              </p>
                              	
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>Before running <b>configure -a</b>, stop the AWS CloudHSM client. Then, when
                                    <b>configure -a</b> completes, restart the AWS CloudHSM client. For details,
                                    <a href="configure-tool.html#configure-tool-examples">see the examples</a>.
                                    
                                 </p>
                              </div>
                              	
                              
                              <p>This parameter edits the following configuration files:</p>
                              	
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p><code>/opt/cloudhsm/etc/cloudhsm_client.cfg</code>: Used by AWS CloudHSM client and 
                                          	<a href="key_mgmt_util.html">key_mgmt_util</a>.
                                          
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p><code>/opt/cloudhsm/etc/cloudhsm_mgmt_util.cfg</code>: Used by 
                                          	<a href="cloudhsm_mgmt_util.html">cloudhsm_mgmt_util</a>.
                                       </p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                              <p>When the AWS CloudHSM client starts, it uses the ENI IP address in its configuration
                                 file
                                 to query the cluster and update the <code>cluster.info</code> file
                                 (<code>/opt/cloudhsm/daemon/1/cluster.info</code>) with the correct ENI IP
                                 addresses for all HSMs in the cluster.
                                 
                              </p>
                              
                              <p>Required: Yes</p>
                              
                           </dd>
                           
                           
                           <dt><b><span class="term">-m</span></b></dt>
                           
                           <dd>
                              
                              <p>Updates the HSM ENI IP addresses in the configuration file that cloudhsm_mgmt_util
                                 uses. 
                              </p>
                              	
                              
                              <p>When you run <b>configure -a</b> and then start the AWS CloudHSM client, the
                                 client daemon queries the cluster and updates the <code>cluster.info</code>
                                 files with the correct HSM IP addresses for all HSMs in the cluster. Running
                                 <b>configure -m</b> completes the update by copying the HSM IP addresses
                                 from the <code>cluster.info</code> to the
                                 <code>cloudhsm_mgmt_util.cfg</code> configuration file that cloudhsm_mgmt_util uses.
                                 
                              </p>
                              	
                              
                              <p>Be sure to run <b>configure -a</b> and restart the AWS CloudHSM client before
                                 running <b>configure -m</b>. This ensures that the data copied into
                                 <code>cloudhsm_mgmt_util.cfg</code> from <code>cluster.info</code> is
                                 complete and accurate.
                                 
                              </p>
                              	
                              
                              <p>Required: Yes</p>
                              
                           </dd>
                           
                           
                           <dt><b><span class="term">-i</span></b></dt>
                           
                           <dd>
                              
                              <p>Specifies an alternate client daemon. The default value represents the AWS CloudHSM
                                 client.
                              </p>
                              
                              <p>Default: <code class="code">1</code></p>
                              
                              <p>Required: No</p>
                              
                           </dd>
                           
                           
                           <dt><b><span class="term">--ssl</span></b></dt>
                           
                           <dd>
                              
                              <p>Replaces the SSL key and certificate for the cluster with the specified private key
                                 and certificate. When you use this parameter, the <code class="code">--pkey</code> and
                                 <code class="code">--cert</code> parameters are required.
                                 
                              </p>
                              
                              <p>Required: No</p>
                              
                           </dd>
                           
                           
                           <dt><b><span class="term">--pkey</span></b></dt>
                           
                           <dd>
                              
                              <p>Specifies the new private key. Enter the path and file name of the file that
                                 contains the private key.
                              </p>
                              
                              <p>Required: Yes if --ssl is specified. Otherwise, this should not be used.</p>
                              
                           </dd>
                           
                           
                           <dt><b><span class="term">--cert</span></b></dt>
                           
                           <dd>
                              
                              <p>Specifies the new certificate. Enter the path and file name of the file that
                                 	contains the certificate. The certificate should chain up to the <code class="code">customerCA.crt</code>
                                 	certificate, the self-signed certificate used to initialize the cluster. For more
                                 	information, see 
                                 	<a href="https://alpha-docs-aws.amazon.com/cloudhsm/latest/userguide/initialize-cluster.html#sign-csr" target="_blank">Initialize the Cluster</a>.
                                 
                              </p>
                              
                              <p>Required: Yes if --ssl is specified. Otherwise, this should not be used.</p>
                              
                           </dd>
                           
                        </dl>
                     </div>
                     
                     
                     <h2 id="configure-tool-seealso">Related Topics</h2>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="key_mgmt_util-getting-started.html#key_mgmt_util-setup">Set Up key_mgmt_util</a></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="cloudhsm_mgmt_util-getting-started.html#cloudhsm_mgmt_util-setup">Prepare to run cloudhsm_mgmt_util</a></p>
                              
                           </li>
                        </ul>
                     </div>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="key-attribute-table.html">« Previous </a><a class="awstoc" accesskey="n" href="use-hsm.html">Next »</a></div>
                     <div id="copyright-main-footer">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Syntax"><a class="pagetoc" href="#configure-tool-syntax">Syntax</a></li>
                        <li class="pagetoc" name="Examples"><a class="pagetoc" href="#configure-tool-examples">Examples</a></li>
                        <li class="pagetoc" name="Parameters"><a class="pagetoc" href="#configure-tool-params">Parameters</a></li>
                        <li class="pagetoc" name="Related Topics"><a class="pagetoc" href="#configure-tool-seealso">Related Topics</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using our site, you consent
            to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      <div id="footer">
         <div id="footer_short_fb" class="hide" title="Feedback"><a target="_blank" href="https://alpha-docs-aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=cdcb09fa-3f0a-4265-9254-d796483b9489&amp;topic_url=http://alpha-docs-aws.amazon.com/en_us/cloudhsm/latest/userguide/configure-tool.html&amp;hidden_guide_name=User Guide&amp;hidden_api_version=&amp;hidden_file_name=configure-tool"><i class="awsdocs-footer-text fa fa-envelope-o"></i></a></div>
         <div id="footer_toggle" class="mediaobject">
            <div id="footer_toggle_img" class="awsdocs-footer-text fa fa-caret-down"></div>
            <div id="footer_toggle_img_collapse" class="hide awsdocs-footer-text fa fa-caret-right"></div>
         </div>
         <div id="footer-left"><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/terms">Terms of Use</a><span class="awsdocs-footer-text"> | </span><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/privacy">Privacy</a><span class="awsdocs-footer-text"> | </span><span class="awsdocs-footer-text">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</span></div>
         <div id="footer-right">
            <div id="feedback">
               <div id="forums"><a id="forum_link" target="_blank" href="http://forums.aws.amazon.com/forum.jspa?forumID=156" class="awsdocs-footer-text">Have a question? Try the Forums.</a></div>
               <div id="feedback-message" class="awsdocs-footer-text">Did this page help you?</div>
               <div id="feedback-yesno-buttons"><a class="awstoc btn btn-default" target="_blank" href="feedbackyes.html?topic_url=http://alpha-docs-aws.amazon.com/en_us/cloudhsm/latest/userguide/configure-tool.html">Yes</a><a class="awstoc btn btn-default" target="_blank" href="feedbackno.html?topic_url=http://alpha-docs-aws.amazon.com/en_us/cloudhsm/latest/userguide/configure-tool.html">No</a></div>
               <div id="feedback-feedback-button"><a class="awstoc btn btn-default" target="_blank" href="https://alpha-docs-aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=cdcb09fa-3f0a-4265-9254-d796483b9489&amp;topic_url=http://alpha-docs-aws.amazon.com/en_us/cloudhsm/latest/userguide/configure-tool.html&amp;hidden_guide_name=User Guide&amp;hidden_api_version=&amp;hidden_file_name=configure-tool">Feedback</a></div>
            </div>
         </div>
      </div>
   </body>
</html>