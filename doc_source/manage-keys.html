<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Managing Keys in AWS CloudHSM - AWS CloudHSM</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="home" href="#top" />
      <link rel="up" href="manage-hsm-users-and-keys.html" title="Managing HSM Users and Keys in AWS CloudHSM" />
      <link rel="prev" href="manage-hsm-users.html" title="Managing HSM Users in AWS CloudHSM" />
      <link rel="next" href="quorum-authentication.html" title="Enforcing Quorum Authentication (M of N Access&#xA;      Control)" />
      <meta name="description" content="Use the AWS CloudHSM key_mgmt_util command line tool to manage keys on the HSMs in your AWS CloudHSM cluster." />
      <meta name="keywords" content="CloudHSM,HSM,hardware security module,HSM appliance,hardware security module appliance,cryptographic key storage,encryption key storage,cryptographic processing,cryptographic operations,cryptographic offload" />
      <meta name="deployment_region" content="SEA" />
      <meta name="product" content="AWS CloudHSM" />
      <meta name="guide" content="User Guide" />
      <meta name="guide-locale" content="en_us" />
      <link rel="icon" type="image/ico" href="images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="images/favicon.ico" />
      <link rel="canonical" href="https://alpha-docs-aws.amazon.com/cloudhsm/latest/userguide/manage-keys.html" />
      <link rel="stylesheet" type="text/css" href="css/jquery-ui.min.css" />
      <link rel="stylesheet" type="text/css" href="font/css/font-awesome.min.css" />
      <link rel="stylesheet" type="text/css" href="css/google-font.css" />
      <link id="code-style" rel="stylesheet" type="text/css" href="css/code/light.css" />
      <link rel="stylesheet" type="text/css" href="css/jquery-ui.theme.css" />
      <link rel="stylesheet" type="text/css" href="css/colorbox.css" />
      <link rel="stylesheet" type="text/css" href="css/awsdocs.css?v=20181116" /><script type="text/javascript" src="js/highlight.pack.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/jquery-ui.min.js"></script><script type="text/javascript" src="js/jquery.colorbox.js"></script><script type="text/javascript" src="js/awsdocs.min.js?v=20181116"></script></head>
   <body id="top">
      <div xmlns:db="http://docbook.org/ns/docbook" id="aws-nav" class="aws-nav-header">
         <div class="aws-nav-header-left">
            <div class="aws-nav-logo">
               <!--aws_logo_105x39.png--><a href="http://aws.amazon.com"><img src="images/aws_logo_105x39.png" alt="Amazon Web Services" /></a></div>
         </div>
         <div id="aws-nav-header-right" class="aws-nav-header-right">
            <div class="aws-nav-cta-button-outer"><a id="aws-nav-cta-button" class="aws-nav-button" href="https://console.aws.amazon.com/console/home">Sign In to the Console</a></div>
            <div class="aws-nav-popover-trigger" data-dropdown="aws-nav-dropdown-lang"><select id="languageSelection" onchange="SelectLanguage()">
                  <option value="/de_de/cloudhsm/latest/userguide/manage-keys.html">Deutsch</option>
                  <option value="/en_us/cloudhsm/latest/userguide/manage-keys.html" selected="selected">English</option>
                  <option value="/es_es/cloudhsm/latest/userguide/manage-keys.html">Español</option>
                  <option value="/fr_fr/cloudhsm/latest/userguide/manage-keys.html">Français</option>
                  <option value="/it_it/cloudhsm/latest/userguide/manage-keys.html">Italiano</option>
                  <option value="/ja_jp/cloudhsm/latest/userguide/manage-keys.html">日本語</option>
                  <option value="/ko_kr/cloudhsm/latest/userguide/manage-keys.html">한국어</option>
                  <option value="/pt_br/cloudhsm/latest/userguide/manage-keys.html">Português</option>
                  <option value="/zh_cn/cloudhsm/latest/userguide/manage-keys.html">中文 (简体)</option>
                  <option value="/zh_tw/cloudhsm/latest/userguide/manage-keys.html">中文 (繁體)</option></select></div><a class="btn btn-rss-link" id="rss-link-top" target="_blank" href="amazon-cloudhsm-release-notes.rss" title="View RSS Feed"></a><a class="btn btn-kindle-link" id="kindle-link-top" target="_blank" href="http://www.amazon.com/dp/B079BV9BS8" title="Open Kindle"></a><a class="btn btn-pdf-link" id="pdf-link-top" href="cloudhsm-user-guide.pdf#manage-keys" target="_blank" title="Open PDF"></a><a class="btn btn-github-link" id="github-link-top" href="https://github.com/awsdocs/aws-cloudhsm-user-guide/tree/master/doc_source/manage-keys.md" target="_blank" title="Edit on GitHub"></a><div id="aws-nav-quicklinks-separator" class="aws-nav-quicklinks-separator">
               <div class="aws-nav-left"></div>
               <div class="aws-nav-right"></div>
            </div>
         </div>
      </div>
      <div id="content-container">
         <div id="left-column">
            <div id="left-col-header">
               <div xmlns:db="http://docbook.org/ns/docbook" id="left-col-top-content">
                  <div id="service-name">AWS CloudHSM </div>
                  <div id="search"><i id="search-icon" class="fa fa-search fa-2x"></i></div>
                  <div id="guide-info">User Guide
                     <div id="content-button"><i id="toggle-contents" class="fa fa-bars"></i></div>
                  </div>
               </div>
               <form id="finegrainedSearch" method="get" onsubmit="return searchFormSubmit(this);" action="/search/doc-search.html">
                  <div id="search-form"><select id="search-select" name="searchPath">
                        <option value="all">Entire Site</option>
                        <option value="AWSMarketplace">AMIs from AWS Marketplace</option>
                        <option value="amis">AMIs from All Sources</option>
                        <option value="articles">Articles &amp; Tutorials</option>
                        <option value="products_and_info">AWS Product Information</option>
                        <option value="case_studies">Case Studies</option>
                        <option value="customerapps">Customer Apps</option>
                        <option value="documentation">Documentation</option>
                        <option value="documentation-product">Documentation - This Product</option>
                        <option value="documentation-guide" selected="selected">Documentation - This Guide</option>
                        <option value="datasets">Public Data Sets</option>
                        <option value="releasenotes">Release Notes</option>
                        <option value="solution_providers">Partners</option>
                        <option value="code">Sample Code &amp; Libraries</option></select><br /><input id="search-query" name="searchQuery" type="text" placeholder="Search" /><input id="search-button" src="images/search-button.png" alt="Go" type="image" /></div><input type="hidden" name="this_doc_product" id="this_doc_product" value="AWS CloudHSM" /><input type="hidden" name="this_doc_guide" id="this_doc_guide" value="User Guide" /><input type="hidden" name="doc_locale" value="en_us" /></form>
            </div>
            <div id="toc">
               <ul class="awstoc">
                  <li class="awstoc closed"><a class="awstoc" href="introduction.html">What Is AWS CloudHSM?</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="use-cases.html">Use Cases</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="clusters.html">Clusters</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="backups.html">Backups</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="client-tools-and-libraries.html">Client Tools and Libraries</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="hsm-users.html">HSM Users</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="compliance.html">Compliance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="pricing.html">Pricing</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="regions.html">Regions</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="limits.html">Limits</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="getting-started.html">Getting Started</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="create-iam-user.html">Create IAM Administrators</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-vpc.html">Create a VPC</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-subnets.html">Create a Private Subnet</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-cluster.html">Create a Cluster</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="launch-client-instance.html">Launch an EC2 Client</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-hsm.html">Create an HSM</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="verify-hsm-identity.html">Verify HSM Identity (Optional)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="initialize-cluster.html">Initialize the Cluster</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="install-and-configure-client-linux.html">Install the Client (Linux)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="install-and-configure-client-win.html">Install the Client (Windows)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="activate-cluster.html">Activate the Cluster</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="getting-started-ssl.html">Reconfigure SSL (Optional)</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="manage-clusters.html">Managing Clusters</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="add-remove-hsm.html">Adding or Removing HSMs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="copy-backup-to-region.html">Copying a Backup Across Regions</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-cluster-from-backup.html">Creating a Cluster From a Backup</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="delete-restore-backup.html">Deleting and Restoring a Backup</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="delete-cluster.html">Deleting a Cluster</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="tag-resources.html">Tagging Resources</a></li>
                     </ul>
                  </li>
                  <li class="awstoc opened"><a class="awstoc" href="manage-hsm-users-and-keys.html">Managing HSM Users and Keys</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="manage-hsm-users.html">Managing HSM Users</a></li>
                        <li class="awstoc leaf"><a class="awstoc selected" href="manage-keys.html">Managing Keys</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="quorum-authentication.html">Quorum Authentication (M of N)</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="quorum-authentication-crypto-officers-first-time-setup.html">First Time Setup for Crypto Officers</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="quorum-authentication-crypto-officers.html">Quorum Authentication for Crypto Officers</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="quorum-authentication-crypto-officers-change-minimum-value.html">Change the Quorum Value for Crypto Officers</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="command-line-tools.html">Command Line Tools</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="cloudhsm_mgmt_util.html">cloudhsm_mgmt_util</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getting-started.html">Getting Started</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="cloudhsm_mgmt_util-reference.html">Reference</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-changePswd.html">changePswd</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-createUser.html">createUser</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-deleteUser.html">deleteUser</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-findAllKeys.html">findAllKeys</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getAttribute.html">getAttribute</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getCert.html">getCert</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getHSMInfo.html">getHSMInfo</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getKeyInfo.html">getKeyInfo</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-info.html">info</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-listAttributes.html">listAttributes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-listUsers.html">listUsers</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-loginLogout.html">loginHSM and logoutHSM</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-server.html">server</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-setAttribute.html">setAttribute</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-quit.html">quit</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-shareKey.html">shareKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-syncKey.html">syncKey</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="key_mgmt_util.html">key_mgmt_util</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-getting-started.html">Getting Started</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="key_mgmt_util-reference.html">Reference</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-aesWrapUnwrap.html">aesWrapUnwrap</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-deleteKey.html">deleteKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-Error2String.html">Error2String</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-exSymKey.html">exSymKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-findKey.html">findKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-findSingleKey.html">findSingleKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genDSAKeyPair.html">genDSAKeyPair</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genECCKeyPair.html">genECCKeyPair</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genPBEKey.html">genPBEKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genRSAKeyPair.html">genRSAKeyPair</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genSymKey.html">genSymKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-getAttribute.html">getAttribute</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-getKeyInfo.html">getKeyInfo</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-imSymKey.html">imSymKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-listAttributes.html">listAttributes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-listUsers.html">listUsers</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-setAttribute.html">setAttribute</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-unwrapKey.html">unWrapKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-wrapKey.html">wrapKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key-attribute-table.html">Key Attribute Reference</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="configure-tool.html">Configure Tool</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="use-hsm.html">Using the Software Libraries</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="pkcs11-library.html">PKCS #11 Library</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-library-install.html">Installing the PKCS #11 Library</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-pin.html">Authenticating to PKCS #11</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-key-types.html">Supported PKCS #11 Key Types</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-mechanisms.html">Supported PKCS #11 Mechanisms</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-apis.html">Supported PKCS #11 API operations</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="openssl-library.html">OpenSSL Dynamic Engine</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="openssl-library-install.html">Installing the OpenSSL Dynamic Engine</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="java-library.html">Java Library</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="java-library-install.html">Installing the Java Library</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="java-lib-supported.html">Supported Mechanisms</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="java-library-sample.html">Sample Prerequisites</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="java-samples.html">Java Samples</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="ksp-library.html">KSP and CNG Providers</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="ksp-library-install.html">Install the Providers</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ksp-library-prereq.html">Prerequisites</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ksp-library-sample.html">Code Sample</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="third-party-applications.html">Integrating Third-Party Applications</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="ssl-offload.html">SSL/TLS Offload</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-overview.html">How It Works</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="ssl-offload-linux.html">SSL/TLS Offload on Linux</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-prerequisites.html">Step 1: Set Up the Prerequisites</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-import-or-generate-private-key-and-certificate.html">Step 2: Generate or Import a Private Key and SSL/TLS Certificate</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-configure-web-server.html">Step 3: Configure the Web Server</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-enable-traffic-and-verify-certificate.html">Step 4: Enable HTTPS Traffic and Verify the Certificate</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-add-load-balancing.html">(Optional) Step 5: Add a Load Balancer with Elastic Load Balancing</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="ssl-offload-windows.html">SSL/TLS Offload on Windows</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-prerequisites-windows.html">Step 1: Set Up the Prerequisites</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-windows-create-csr-and-certificate.html">Step 2: Create a Certificate Signing Request (CSR) and Certificate</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-configure-web-server-windows.html">Step 3: Configure the Web Server</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-enable-traffic-and-verify-certificate-windows.html">Step 4: Enable HTTPS Traffic and Verify the Certificate</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-add-load-balancing-windows.html">(Optional) Step 5: Add a Load Balancer with Elastic Load Balancing</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="win-ca-overview.html">Windows Server CA</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="win-ca-prerequisites.html">Set Up Prerequisites</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="win-ca-setup.html">Create Windows Server CA</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="win-ca-sign-csr.html">Sign a CSR</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="oracle-tde.html">Oracle Database Encryption</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="oracle-tde-prerequisites.html">Set Up Prerequisites</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="oracle-tde-configure-database-and-generate-master-key.html">Configure the Database</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="get-logs.html">Monitoring Logs</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="hsm-client-logs.html">Getting Client Logs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="get-api-logs-using-cloudtrail.html">Logging AWS CloudHSM API Calls with AWS CloudTrail</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="get-hsm-audit-logs-using-cloudwatch.html">Monitoring Audit Logs</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="get-audit-logs-from-cloudwatch.html">How Audit Logging Works</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="understand-audit-logs.html">Viewing Audit Logs in CloudWatch Logs</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="interpreting-audit-logs.html">Interpreting HSM Audit Logs</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="cloudhsm-audit-log-reference.html">Audit Log Reference</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="hsm-metrics.html">Getting Metrics</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="hsm-metrics-cw.html">Getting CloudWatch Metrics</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="troubleshooting.html">Troubleshooting</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="KnownIssues.html">Known Issues</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-lost-connection.html">Lost Connection</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-keep-hsm-users-in-sync.html">Keep HSM Users In Sync</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-verify-hsm-performance.html">Verify Performance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-create-cluster.html">Resolving Cluster Creation Failures</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-missing-audit-logs.html">Missing AWS CloudHSM Audit Logs in CloudWatch</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="client-and-software-version-history.html">Client and Software Information</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="client-history.html">Version History</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="client-supported-platforms.html">Supported Platforms</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="document-history.html">Document History</a></li>
                  <li id="toc-additional-links"><a class="btn btn-pdf-link" id="pdf-link-alt" href="cloudhsm-user-guide.pdf#top" target="_blank" title="Open PDF"></a><a class="btn btn-kindle-link" id="kindle-link-alt" target="_blank" href="http://www.amazon.com/dp/B079BV9BS8" title="Open Kindle"></a><a class="btn btn-rss-link" id="rss-link-alt" target="_blank" href="amazon-cloudhsm-release-notes.rss" title="View RSS Feed"></a></li>
               </ul>
            </div>
         </div>
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> » <a href="/cloudhsm/index.html">AWS CloudHSM</a> » <a href="index.html">User Guide</a> » <a href="manage-hsm-users-and-keys.html">Managing HSM Users and Keys in AWS CloudHSM</a> » <span class="breadcrumb">Managing Keys in AWS CloudHSM</span></div>
                           </td>
                        </tr>
                     </table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div id="SEARegionDisclaimer">This prerelease documentation is confidential and is provided under the terms of your
                        nondisclosure agreement with Amazon Web Services (AWS) or other agreement governing
                        your receipt of AWS confidential information.
                     </div>
                     <div></div>
                     <h1 class="topictitle" id="manage-keys">Managing Keys in AWS CloudHSM</h1>
                     <p>To manage keys on the HSMs in your AWS CloudHSM cluster, use the <a href="key_mgmt_util.html">key_mgmt_util</a> command line tool. Before you can manage keys, you must start the AWS CloudHSM
                        client, start key_mgmt_util, and log in to the HSMs.
                     </p>
                     <p>To manage keys, <a href="key_mgmt_util-getting-started.html#key_mgmt_util-log-in">log in to the HSM</a> with the user
                        name and password of a crypto user (CU). Only CUs can create keys. Keys are inherently
                        owned and
                        managed by the CU who created them.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#generate-keys">Generate Keys</a></li>
                           <li><a href="#import-keys">Import Keys</a></li>
                           <li><a href="#export-keys">Export Keys</a></li>
                           <li><a href="#delete-keys">Delete Keys</a></li>
                           <li><a href="#share-keys">Share and Unshare Keys</a></li>
                        </ul>
                     </div>
                     
                     <h2 id="generate-keys">Generate Keys</h2>
                     
                     <p>To generate keys on the HSM, use the command that corresponds to the type of key that
                        you
                        want to generate.
                     </p>
                     
                     
                     <h3 id="generate-symmetric-keys">Generate Symmetric Keys</h3>
                     
                     <p>Use the <a href="key_mgmt_util-genSymKey.html">genSymKey</a> command to generate
                        AES, triple DES, and other types of symmetric keys. To see all available options,
                        use the
                        <b>genSymKey -h</b> command.
                     </p>
                     
                     <p>The following example creates a 256-bit AES key.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command: </code><strong class="userinput"><code>genSymKey -t 31 -s 32 -l aes256</code></strong><code class="computeroutput" copy="false">
Cfm3GenerateSymmetricKey returned: 0x00 : HSM Return: SUCCESS

Symmetric Key Created.  Key Handle: 524295

Cluster Error Status
Node id 0 and err state 0x00000000 : HSM Return: SUCCESS
Node id 1 and err state 0x00000000 : HSM Return: SUCCESS
Node id 2 and err state 0x00000000 : HSM Return: SUCCESS</code></code></pre>
                     
                     
                     <h3 id="generate-rsa-key-pairs">Generate RSA Key Pairs</h3>
                     
                     <p>To generate an RSA key pair, use the <a href="key_mgmt_util-genRSAKeyPair.html">genRSAKeyPair</a> command. To see all available options, use the <b>genRSAKeyPair
                           -h</b> command.
                     </p>
                     
                     <p>The following example generates an RSA 2048-bit key pair.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command: </code><strong class="userinput"><code>genRSAKeyPair -m 2048 -e 65537 -l rsa2048</code></strong><code class="computeroutput" copy="false">
Cfm3GenerateKeyPair returned: 0x00 : HSM Return: SUCCESS

Cfm3GenerateKeyPair:    public key handle: 524294    private key handle: 524296

Cluster Error Status
Node id 0 and err state 0x00000000 : HSM Return: SUCCESS
Node id 1 and err state 0x00000000 : HSM Return: SUCCESS
Node id 2 and err state 0x00000000 : HSM Return: SUCCESS</code></code></pre>
                     
                     
                     <h3 id="generate-ecc-key-pairs">Generate ECC (Elliptic Curve Cryptography) Key
                        Pairs
                     </h3>
                     
                     <p>To generate an ECC key pair, use the <a href="key_mgmt_util-genECCKeyPair.html">genECCKeyPair</a> command. To see
                        all available options, including a list of the supported elliptic curves, use the
                        <b>genECCKeyPair -h</b> command.
                     </p>
                     
                     <p>The following example generates an ECC key pair using the P-384 elliptic curve defined
                        in <a href="http://dx.doi.org/10.6028/NIST.FIPS.186-4" target="_blank">NIST FIPS publication
                           186-4</a>.
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command: </code><strong class="userinput"><code>genECCKeyPair -i 14 -l ecc-p384</code></strong><code class="computeroutput" copy="false">
Cfm3GenerateKeyPair returned: 0x00 : HSM Return: SUCCESS

Cfm3GenerateKeyPair:    public key handle: 524297    private key handle: 524298

Cluster Error Status
Node id 0 and err state 0x00000000 : HSM Return: SUCCESS
Node id 1 and err state 0x00000000 : HSM Return: SUCCESS
Node id 2 and err state 0x00000000 : HSM Return: SUCCESS</code></code></pre>
                     
                     
                     <h2 id="import-keys">Import Keys</h2>
                     
                     <p>To import secret keys—that is, symmetric keys and asymmetric private
                        keys—into the HSM, you must first create a wrapping key on the HSM. You can import
                        public keys directly without a wrapping key.
                     </p>
                     
                     
                     <h3 id="import-secret-keys">Import Secret Keys</h3>
                     
                     
                     <p>Complete the following steps to import a secret key. Before you import a secret key,
                        save it to a file. Save symmetric keys as raw bytes, and asymmetric private keys in
                        PEM
                        format.
                     </p>
                     
                     <p>This example shows how to import a plaintext secret key from a file into the HSM.
                        To
                        import an encrypted key from a file into the HSM, use the <a href="key_mgmt_util-unwrapKey.html">unWrapKey</a> command.
                     </p>
                     
                     <p class="title"><b>To import a secret key</b></p>
                     <ol>
                        <li>
                           
                           <p>Use the <a href="key_mgmt_util-genSymKey.html">genSymKey</a> command to create a
                              wrapping key. The following command creates a 128-bit AES wrapping key that is valid
                              only for the current session. You can use a session key or a persistent key as a
                              wrapping key.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command: </code><strong class="userinput"><code>genSymKey -t 31 -s 16 -sess -l import-wrapping-key</code></strong><code class="computeroutput" copy="false">
Cfm3GenerateSymmetricKey returned: 0x00 : HSM Return: SUCCESS

Symmetric Key Created.  Key Handle: 524299

Cluster Error Status
Node id 2 and err state 0x00000000 : HSM Return: SUCCESS</code></code></pre>
                           </li>
                        <li>
                           
                           <p>Use one of the following commands, depending on the type of secret key that you are
                              importing.
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p>To import a symmetric key, use the <b>imSymKey</b> command. The
                                       following command imports an AES key from a file named
                                       <code>aes256.key</code> using the wrapping key created in the previous step.
                                       To see all available options, use the <b>imSymKey -h</b> command.
                                    </p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command: </code><strong class="userinput"><code>imSymKey -f aes256.key -t 31 -l aes256-imported -w 524299</code></strong><code class="computeroutput" copy="false">
Cfm3WrapHostKey returned: 0x00 : HSM Return: SUCCESS

Cfm3CreateUnwrapTemplate returned: 0x00 : HSM Return: SUCCESS

Cfm3UnWrapKey returned: 0x00 : HSM Return: SUCCESS

Symmetric Key Unwrapped.  Key Handle: 524300

Cluster Error Status
Node id 0 and err state 0x00000000 : HSM Return: SUCCESS
Node id 1 and err state 0x00000000 : HSM Return: SUCCESS
Node id 2 and err state 0x00000000 : HSM Return: SUCCESS</code></code></pre>
                                    </li>
                                 <li class="listitem">
                                    
                                    <p>To import an asymmetric private key, use the <b>importPrivateKey</b>
                                       command. The following command imports a private key from a file named
                                       <code>rsa2048.key</code> using the wrapping key created in the previous
                                       step. To see all available options, use the <b>importPrivateKey -h</b>
                                       command.
                                    </p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command: </code><strong class="userinput"><code>importPrivateKey -f rsa2048.key -l rsa2048-imported -w 524299</code></strong><code class="computeroutput" copy="false">
BER encoded key length is 1216

Cfm3WrapHostKey returned: 0x00 : HSM Return: SUCCESS

Cfm3CreateUnwrapTemplate returned: 0x00 : HSM Return: SUCCESS

Cfm3UnWrapKey returned: 0x00 : HSM Return: SUCCESS

Private Key Unwrapped.  Key Handle: 524301

Cluster Error Status
Node id 0 and err state 0x00000000 : HSM Return: SUCCESS
Node id 1 and err state 0x00000000 : HSM Return: SUCCESS
Node id 2 and err state 0x00000000 : HSM Return: SUCCESS</code></code></pre>
                                    </li>
                              </ul>
                           </div>
                           
                        </li>
                     </ol>
                     
                     
                     
                     <h3 id="import-public-keys">Import Public Keys</h3>
                     
                     <p>Use the <b>importPubKey</b> command to import a public key. To see all
                        available options, use the <b>importPubKey -h</b> command.
                     </p>
                     
                     <p>The following example imports an RSA public key from a file named
                        <code>rsa2048.pub</code>.
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command: </code><strong class="userinput"><code>importPubKey -f rsa2048.pub -l rsa2048-public-imported</code></strong><code class="computeroutput" copy="false">
Cfm3CreatePublicKey returned: 0x00 : HSM Return: SUCCESS

Public Key Handle: 524302

Cluster Error Status
Node id 0 and err state 0x00000000 : HSM Return: SUCCESS
Node id 1 and err state 0x00000000 : HSM Return: SUCCESS
Node id 2 and err state 0x00000000 : HSM Return: SUCCESS</code></code></pre>
                     
                     
                     <h2 id="export-keys">Export Keys</h2>
                     
                     <p>To export secret keys—that is, symmetric keys and asymmetric private
                        keys—from the HSM, you must first create a wrapping key. You can export public keys
                        directly without a wrapping key. 
                     </p>
                     
                     <p>Only the key owner can export a key. Users with whom the key is shared can use the
                        key in
                        cryptographic operations, but they cannot export it. When running this example, be
                        sure to
                        export a key that you created. 
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>The <a href="key_mgmt_util-exSymKey.html">exSymKey</a> command writes a plaintext
                           (unencrypted) copy of the secret key to a file. The export process requires a wrapping
                           key,
                           but the key in the file is <b><em>not</em></b> a
                           wrapped key. To export a wrapped (encrypted) copy of a key, use the <a href="key_mgmt_util-wrapKey.html">wrapKey</a> command.
                        </p>
                     </div>
                     
                     
                     <h3 id="export-secret-keys">Export Secret Keys</h3>
                     
                     <p>Complete the following steps to export a secret key. </p>
                     
                     <p class="title"><b>To export a secret key</b></p>
                     <ol>
                        <li>
                           
                           <p>Use the <a href="key_mgmt_util-genSymKey.html">genSymKey</a> command to create a
                              wrapping key. The following command creates a 128-bit AES wrapping key that is valid
                              only for the current session.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command: </code><strong class="userinput"><code>genSymKey -t 31 -s 16 -sess -l export-wrapping-key</code></strong><code class="computeroutput" copy="false">
Cfm3GenerateSymmetricKey returned: 0x00 : HSM Return: SUCCESS

Symmetric Key Created.  Key Handle: 524304

Cluster Error Status
Node id 2 and err state 0x00000000 : HSM Return: SUCCESS</code></code></pre>
                           </li>
                        <li>
                           
                           <p>Use one of the following commands, depending on the type of secret key that you are
                              exporting.
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p>To export a symmetric key, use the <a href="key_mgmt_util-exSymKey.html">exSymKey</a> command. The following command exports an AES key to a file named
                                       <code>aes256.key.exp</code>. To see all available options, use the
                                       <b>exSymKey -h</b> command.
                                    </p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command: </code><strong class="userinput"><code>exSymKey -k 524295 -out aes256.key.exp -w 524304</code></strong><code class="computeroutput" copy="false">
Cfm3WrapKey returned: 0x00 : HSM Return: SUCCESS

Cfm3UnWrapHostKey returned: 0x00 : HSM Return: SUCCESS


Wrapped Symmetric Key written to file "aes256.key.exp"</code></code></pre>
                                    <div class="aws-note">
                                       <p class="aws-note">Note</p>
                                       <p>The command's output says that a "Wrapped Symmetric Key" is written to the
                                          output file. However, the output file contains a plaintext (not wrapped) key. To
                                          export a wrapped (encrypted) key to a file, use the <a href="key_mgmt_util-wrapKey.html">wrapKey</a> command.
                                       </p>
                                    </div>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>To export a private key, use the <b>exportPrivateKey</b> command.
                                       The following command exports a private key to a file named
                                       <code>rsa2048.key.exp</code>. To see all available options, use the
                                       <b>exportPrivateKey -h</b> command.
                                    </p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command: </code><strong class="userinput"><code>exportPrivateKey -k 524296 -out rsa2048.key.exp -w 524304</code></strong><code class="computeroutput" copy="false">
Cfm3WrapKey returned: 0x00 : HSM Return: SUCCESS

Cfm3UnWrapHostKey returned: 0x00 : HSM Return: SUCCESS

PEM formatted private key is written to rsa2048.key.exp</code></code></pre>
                                    </li>
                              </ul>
                           </div>
                           
                        </li>
                     </ol>
                     
                     
                     
                     <h3 id="export-public-keys">Export Public Keys</h3>
                     
                     <p>Use the <b>exportPubKey</b> command to export a public key. To see all
                        available options, use the <b>exportPubKey -h</b> command.
                     </p>
                     
                     <p>The following example exports an RSA public key to a file named
                        <code>rsa2048.pub.exp</code>.
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command: </code><strong class="userinput"><code>exportPubKey -k 524294 -out rsa2048.pub.exp</code></strong><code class="computeroutput" copy="false">
PEM formatted public key is written to rsa2048.pub.key

Cfm3ExportPubKey returned: 0x00 : HSM Return: SUCCESS</code></code></pre>
                     
                     
                     <h2 id="delete-keys">Delete Keys</h2>
                     
                     <p>Use the <a href="key_mgmt_util-deleteKey.html">deleteKey</a> command to delete a key,
                        as in the following example. Only the key owner can delete a key.
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command: </code><strong class="userinput"><code>deleteKey -k 524300</code></strong><strong class="userinput"><code>
Cfm3DeleteKey returned: 0x00 : HSM Return: SUCCESS

Cluster Error Status
Node id 0 and err state 0x00000000 : HSM Return: SUCCESS
Node id 1 and err state 0x00000000 : HSM Return: SUCCESS
Node id 2 and err state 0x00000000 : HSM Return: SUCCESS</code></strong></code></pre>
                     
                     <h2 id="share-keys">Share and Unshare Keys</h2>
                     
                     <p>In AWS CloudHSM, the CU who creates the key owns it. The owner manages the key, can
                        export and
                        delete it, and can use the key in cryptographic operations. The owner can also share
                        the key
                        with other CU users. Users with whom the key is shared can use the key in cryptographic
                        operations, but they cannot export or delete the key, or share it with other users.
                     </p>
                     
                     <p>You can share keys with other CU users when you create the key, such as by using the
                        <code class="code">-u</code> parameter of the <a href="key_mgmt_util-genSymKey.html">genSymKey</a> or
                        <a href="key_mgmt_util-genRSAKeyPair.html">genRSAKeyPair</a> commands. To share existing
                        keys with a different HSM user, use the <a href="cloudhsm_mgmt_util.html">cloudhsm_mgmt_util</a> command line tool. This is different from most of the tasks
                        documented in this section, which use the <a href="key_mgmt_util.html">key_mgmt_util</a>
                        command line tool.
                     </p>
                     
                     <p>Before you can share a key, you must start cloudhsm_mgmt_util, enable end-to-end
                        encryption, and log in to the HSMs. To share a key, log in to the HSM as the crypto
                        user (CU)
                        that owns the key. Only key owners can share a key.
                     </p>
                     
                     <p>Use the <b>shareKey</b> command to share or unshare a key, specifying the
                        handle of the key and the IDs of the user or users. To share or unshare with more
                        than one
                        user, specify a comma-separated list of user IDs. To share a key, use <code class="code">1</code> as the
                        command's last parameter, as in the following example. To unshare, use <code class="code">0</code>.
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">aws-cloudhsm&gt;</code><strong class="userinput"><code>shareKey 524295 4 1</code></strong><code class="computeroutput" copy="false">
*************************CAUTION********************************
This is a CRITICAL operation, should be done on all nodes in the
cluster. Cav server does NOT synchronize these changes with the
nodes on which this operation is not executed or failed, please
ensure this operation is executed on all nodes in the cluster.
****************************************************************

Do you want to continue(y/n)?</code><strong class="userinput"><code>y</code></strong><code class="computeroutput" copy="false">
shareKey success on server 0(10.0.2.9)
shareKey success on server 1(10.0.3.11)
shareKey success on server 2(10.0.1.12)</code></code></pre>
                     <p>The following shows the syntax for the <b>shareKey</b> command.
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">aws-cloudhsm&gt;</code><strong class="userinput"><code>shareKey <em class="replaceable"><code>&lt;key handle&gt;</code></em> <em class="replaceable"><code>&lt;user ID&gt;</code></em> <em class="replaceable"><code>&lt;Boolean: 1 for share, 0 for unshare&gt;</code></em></code></strong></code></pre>
                     </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="manage-hsm-users.html">« Previous </a><a class="awstoc" accesskey="n" href="quorum-authentication.html">Next »</a></div>
                     <div id="copyright-main-footer">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Generate Keys"><a class="pagetoc" href="#generate-keys">Generate Keys</a></li>
                        <li class="pagetoc" name="Import Keys"><a class="pagetoc" href="#import-keys">Import Keys</a></li>
                        <li class="pagetoc" name="Export Keys"><a class="pagetoc" href="#export-keys">Export Keys</a></li>
                        <li class="pagetoc" name="Delete Keys"><a class="pagetoc" href="#delete-keys">Delete Keys</a></li>
                        <li class="pagetoc" name="Share and Unshare Keys"><a class="pagetoc" href="#share-keys">Share and Unshare Keys</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using our site, you consent
            to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      <div id="footer">
         <div id="footer_short_fb" class="hide" title="Feedback"><a target="_blank" href="https://alpha-docs-aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=cdcb09fa-3f0a-4265-9254-d796483b9489&amp;topic_url=http://alpha-docs-aws.amazon.com/en_us/cloudhsm/latest/userguide/manage-keys.html&amp;hidden_guide_name=User Guide&amp;hidden_api_version=&amp;hidden_file_name=manage-keys"><i class="awsdocs-footer-text fa fa-envelope-o"></i></a></div>
         <div id="footer_toggle" class="mediaobject">
            <div id="footer_toggle_img" class="awsdocs-footer-text fa fa-caret-down"></div>
            <div id="footer_toggle_img_collapse" class="hide awsdocs-footer-text fa fa-caret-right"></div>
         </div>
         <div id="footer-left"><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/terms">Terms of Use</a><span class="awsdocs-footer-text"> | </span><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/privacy">Privacy</a><span class="awsdocs-footer-text"> | </span><span class="awsdocs-footer-text">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</span></div>
         <div id="footer-right">
            <div id="feedback">
               <div id="forums"><a id="forum_link" target="_blank" href="http://forums.aws.amazon.com/forum.jspa?forumID=156" class="awsdocs-footer-text">Have a question? Try the Forums.</a></div>
               <div id="feedback-message" class="awsdocs-footer-text">Did this page help you?</div>
               <div id="feedback-yesno-buttons"><a class="awstoc btn btn-default" target="_blank" href="feedbackyes.html?topic_url=http://alpha-docs-aws.amazon.com/en_us/cloudhsm/latest/userguide/manage-keys.html">Yes</a><a class="awstoc btn btn-default" target="_blank" href="feedbackno.html?topic_url=http://alpha-docs-aws.amazon.com/en_us/cloudhsm/latest/userguide/manage-keys.html">No</a></div>
               <div id="feedback-feedback-button"><a class="awstoc btn btn-default" target="_blank" href="https://alpha-docs-aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=cdcb09fa-3f0a-4265-9254-d796483b9489&amp;topic_url=http://alpha-docs-aws.amazon.com/en_us/cloudhsm/latest/userguide/manage-keys.html&amp;hidden_guide_name=User Guide&amp;hidden_api_version=&amp;hidden_file_name=manage-keys">Feedback</a></div>
            </div>
         </div>
      </div>
   </body>
</html>