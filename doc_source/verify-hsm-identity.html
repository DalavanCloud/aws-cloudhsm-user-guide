<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Verify the Identity and Authenticity of Your Cluster's HSM (Optional) - AWS CloudHSM</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="home" href="#top" />
      <link rel="up" href="getting-started.html" title="Getting Started with AWS CloudHSM" />
      <link rel="prev" href="create-hsm.html" title="Create an HSM" />
      <link rel="next" href="initialize-cluster.html" title="Initialize the Cluster" />
      <meta name="description" content="To verify the identity and authenticity of the HSM in your AWS CloudHSM cluster, get the certificates and signing request, verify the certificate chains, and compare public keys." />
      <meta name="keywords" content="CloudHSM,HSM,hardware security module,HSM appliance,hardware security module appliance,cryptographic key storage,encryption key storage,cryptographic processing,cryptographic operations,cryptographic offload" />
      <meta name="deployment_region" content="SEA" />
      <meta name="product" content="AWS CloudHSM" />
      <meta name="guide" content="User Guide" />
      <meta name="guide-locale" content="en_us" />
      <link rel="icon" type="image/ico" href="images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="images/favicon.ico" />
      <link rel="canonical" href="https://alpha-docs-aws.amazon.com/cloudhsm/latest/userguide/verify-hsm-identity.html" />
      <link rel="stylesheet" type="text/css" href="css/jquery-ui.min.css" />
      <link rel="stylesheet" type="text/css" href="font/css/font-awesome.min.css" />
      <link rel="stylesheet" type="text/css" href="css/google-font.css" />
      <link id="code-style" rel="stylesheet" type="text/css" href="css/code/light.css" />
      <link rel="stylesheet" type="text/css" href="css/jquery-ui.theme.css" />
      <link rel="stylesheet" type="text/css" href="css/colorbox.css" />
      <link rel="stylesheet" type="text/css" href="css/awsdocs.css?v=20181116" /><script type="text/javascript" src="js/highlight.pack.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/jquery-ui.min.js"></script><script type="text/javascript" src="js/jquery.colorbox.js"></script><script type="text/javascript" src="js/awsdocs.min.js?v=20181116"></script></head>
   <body id="top">
      <div xmlns:db="http://docbook.org/ns/docbook" id="aws-nav" class="aws-nav-header">
         <div class="aws-nav-header-left">
            <div class="aws-nav-logo">
               <!--aws_logo_105x39.png--><a href="http://aws.amazon.com"><img src="images/aws_logo_105x39.png" alt="Amazon Web Services" /></a></div>
         </div>
         <div id="aws-nav-header-right" class="aws-nav-header-right">
            <div class="aws-nav-cta-button-outer"><a id="aws-nav-cta-button" class="aws-nav-button" href="https://console.aws.amazon.com/console/home">Sign In to the Console</a></div>
            <div class="aws-nav-popover-trigger" data-dropdown="aws-nav-dropdown-lang"><select id="languageSelection" onchange="SelectLanguage()">
                  <option value="/de_de/cloudhsm/latest/userguide/verify-hsm-identity.html">Deutsch</option>
                  <option value="/en_us/cloudhsm/latest/userguide/verify-hsm-identity.html" selected="selected">English</option>
                  <option value="/es_es/cloudhsm/latest/userguide/verify-hsm-identity.html">Español</option>
                  <option value="/fr_fr/cloudhsm/latest/userguide/verify-hsm-identity.html">Français</option>
                  <option value="/it_it/cloudhsm/latest/userguide/verify-hsm-identity.html">Italiano</option>
                  <option value="/ja_jp/cloudhsm/latest/userguide/verify-hsm-identity.html">日本語</option>
                  <option value="/ko_kr/cloudhsm/latest/userguide/verify-hsm-identity.html">한국어</option>
                  <option value="/pt_br/cloudhsm/latest/userguide/verify-hsm-identity.html">Português</option>
                  <option value="/zh_cn/cloudhsm/latest/userguide/verify-hsm-identity.html">中文 (简体)</option>
                  <option value="/zh_tw/cloudhsm/latest/userguide/verify-hsm-identity.html">中文 (繁體)</option></select></div><a class="btn btn-rss-link" id="rss-link-top" target="_blank" href="amazon-cloudhsm-release-notes.rss" title="View RSS Feed"></a><a class="btn btn-kindle-link" id="kindle-link-top" target="_blank" href="http://www.amazon.com/dp/B079BV9BS8" title="Open Kindle"></a><a class="btn btn-pdf-link" id="pdf-link-top" href="cloudhsm-user-guide.pdf#verify-hsm-identity" target="_blank" title="Open PDF"></a><a class="btn btn-github-link" id="github-link-top" href="https://github.com/awsdocs/aws-cloudhsm-user-guide/tree/master/doc_source/verify-hsm-identity.md" target="_blank" title="Edit on GitHub"></a><div id="aws-nav-quicklinks-separator" class="aws-nav-quicklinks-separator">
               <div class="aws-nav-left"></div>
               <div class="aws-nav-right"></div>
            </div>
         </div>
      </div>
      <div id="content-container">
         <div id="left-column">
            <div id="left-col-header">
               <div xmlns:db="http://docbook.org/ns/docbook" id="left-col-top-content">
                  <div id="service-name">AWS CloudHSM </div>
                  <div id="search"><i id="search-icon" class="fa fa-search fa-2x"></i></div>
                  <div id="guide-info">User Guide
                     <div id="content-button"><i id="toggle-contents" class="fa fa-bars"></i></div>
                  </div>
               </div>
               <form id="finegrainedSearch" method="get" onsubmit="return searchFormSubmit(this);" action="/search/doc-search.html">
                  <div id="search-form"><select id="search-select" name="searchPath">
                        <option value="all">Entire Site</option>
                        <option value="AWSMarketplace">AMIs from AWS Marketplace</option>
                        <option value="amis">AMIs from All Sources</option>
                        <option value="articles">Articles &amp; Tutorials</option>
                        <option value="products_and_info">AWS Product Information</option>
                        <option value="case_studies">Case Studies</option>
                        <option value="customerapps">Customer Apps</option>
                        <option value="documentation">Documentation</option>
                        <option value="documentation-product">Documentation - This Product</option>
                        <option value="documentation-guide" selected="selected">Documentation - This Guide</option>
                        <option value="datasets">Public Data Sets</option>
                        <option value="releasenotes">Release Notes</option>
                        <option value="solution_providers">Partners</option>
                        <option value="code">Sample Code &amp; Libraries</option></select><br /><input id="search-query" name="searchQuery" type="text" placeholder="Search" /><input id="search-button" src="images/search-button.png" alt="Go" type="image" /></div><input type="hidden" name="this_doc_product" id="this_doc_product" value="AWS CloudHSM" /><input type="hidden" name="this_doc_guide" id="this_doc_guide" value="User Guide" /><input type="hidden" name="doc_locale" value="en_us" /></form>
            </div>
            <div id="toc">
               <ul class="awstoc">
                  <li class="awstoc closed"><a class="awstoc" href="introduction.html">What Is AWS CloudHSM?</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="use-cases.html">Use Cases</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="clusters.html">Clusters</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="backups.html">Backups</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="client-tools-and-libraries.html">Client Tools and Libraries</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="hsm-users.html">HSM Users</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="compliance.html">Compliance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="pricing.html">Pricing</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="regions.html">Regions</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="limits.html">Limits</a></li>
                     </ul>
                  </li>
                  <li class="awstoc opened"><a class="awstoc" href="getting-started.html">Getting Started</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="create-iam-user.html">Create IAM Administrators</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-vpc.html">Create a VPC</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-subnets.html">Create a Private Subnet</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-cluster.html">Create a Cluster</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="launch-client-instance.html">Launch an EC2 Client</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-hsm.html">Create an HSM</a></li>
                        <li class="awstoc leaf"><a class="awstoc selected" href="verify-hsm-identity.html">Verify HSM Identity (Optional)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="initialize-cluster.html">Initialize the Cluster</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="install-and-configure-client-linux.html">Install the Client (Linux)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="install-and-configure-client-win.html">Install the Client (Windows)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="activate-cluster.html">Activate the Cluster</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="getting-started-ssl.html">Reconfigure SSL (Optional)</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="manage-clusters.html">Managing Clusters</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="add-remove-hsm.html">Adding or Removing HSMs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="copy-backup-to-region.html">Copying a Backup Across Regions</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-cluster-from-backup.html">Creating a Cluster From a Backup</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="delete-restore-backup.html">Deleting and Restoring a Backup</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="delete-cluster.html">Deleting a Cluster</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="tag-resources.html">Tagging Resources</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="manage-hsm-users-and-keys.html">Managing HSM Users and Keys</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="manage-hsm-users.html">Managing HSM Users</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="manage-keys.html">Managing Keys</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="quorum-authentication.html">Quorum Authentication (M of N)</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="quorum-authentication-crypto-officers-first-time-setup.html">First Time Setup for Crypto Officers</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="quorum-authentication-crypto-officers.html">Quorum Authentication for Crypto Officers</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="quorum-authentication-crypto-officers-change-minimum-value.html">Change the Quorum Value for Crypto Officers</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="command-line-tools.html">Command Line Tools</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="cloudhsm_mgmt_util.html">cloudhsm_mgmt_util</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getting-started.html">Getting Started</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="cloudhsm_mgmt_util-reference.html">Reference</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-changePswd.html">changePswd</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-createUser.html">createUser</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-deleteUser.html">deleteUser</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-findAllKeys.html">findAllKeys</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getAttribute.html">getAttribute</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getCert.html">getCert</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getHSMInfo.html">getHSMInfo</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-getKeyInfo.html">getKeyInfo</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-info.html">info</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-listAttributes.html">listAttributes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-listUsers.html">listUsers</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-loginLogout.html">loginHSM and logoutHSM</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-server.html">server</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-setAttribute.html">setAttribute</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-quit.html">quit</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-shareKey.html">shareKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="cloudhsm_mgmt_util-syncKey.html">syncKey</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="key_mgmt_util.html">key_mgmt_util</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-getting-started.html">Getting Started</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="key_mgmt_util-reference.html">Reference</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-aesWrapUnwrap.html">aesWrapUnwrap</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-deleteKey.html">deleteKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-Error2String.html">Error2String</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-exSymKey.html">exSymKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-findKey.html">findKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-findSingleKey.html">findSingleKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genDSAKeyPair.html">genDSAKeyPair</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genECCKeyPair.html">genECCKeyPair</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genPBEKey.html">genPBEKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genRSAKeyPair.html">genRSAKeyPair</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-genSymKey.html">genSymKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-getAttribute.html">getAttribute</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-getKeyInfo.html">getKeyInfo</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-imSymKey.html">imSymKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-listAttributes.html">listAttributes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-listUsers.html">listUsers</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-setAttribute.html">setAttribute</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-unwrapKey.html">unWrapKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key_mgmt_util-wrapKey.html">wrapKey</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="key-attribute-table.html">Key Attribute Reference</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="configure-tool.html">Configure Tool</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="use-hsm.html">Using the Software Libraries</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="pkcs11-library.html">PKCS #11 Library</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-library-install.html">Installing the PKCS #11 Library</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-pin.html">Authenticating to PKCS #11</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-key-types.html">Supported PKCS #11 Key Types</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-mechanisms.html">Supported PKCS #11 Mechanisms</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="pkcs11-apis.html">Supported PKCS #11 API operations</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="openssl-library.html">OpenSSL Dynamic Engine</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="openssl-library-install.html">Installing the OpenSSL Dynamic Engine</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="java-library.html">Java Library</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="java-library-install.html">Installing the Java Library</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="java-lib-supported.html">Supported Mechanisms</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="java-library-sample.html">Sample Prerequisites</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="java-samples.html">Java Samples</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="ksp-library.html">KSP and CNG Providers</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="ksp-library-install.html">Install the Providers</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ksp-library-prereq.html">Prerequisites</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ksp-library-sample.html">Code Sample</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="third-party-applications.html">Integrating Third-Party Applications</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="ssl-offload.html">SSL/TLS Offload</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-overview.html">How It Works</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="ssl-offload-linux.html">SSL/TLS Offload on Linux</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-prerequisites.html">Step 1: Set Up the Prerequisites</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-import-or-generate-private-key-and-certificate.html">Step 2: Generate or Import a Private Key and SSL/TLS Certificate</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-configure-web-server.html">Step 3: Configure the Web Server</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-enable-traffic-and-verify-certificate.html">Step 4: Enable HTTPS Traffic and Verify the Certificate</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-add-load-balancing.html">(Optional) Step 5: Add a Load Balancer with Elastic Load Balancing</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="ssl-offload-windows.html">SSL/TLS Offload on Windows</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-prerequisites-windows.html">Step 1: Set Up the Prerequisites</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-windows-create-csr-and-certificate.html">Step 2: Create a Certificate Signing Request (CSR) and Certificate</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-configure-web-server-windows.html">Step 3: Configure the Web Server</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-enable-traffic-and-verify-certificate-windows.html">Step 4: Enable HTTPS Traffic and Verify the Certificate</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ssl-offload-add-load-balancing-windows.html">(Optional) Step 5: Add a Load Balancer with Elastic Load Balancing</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="win-ca-overview.html">Windows Server CA</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="win-ca-prerequisites.html">Set Up Prerequisites</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="win-ca-setup.html">Create Windows Server CA</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="win-ca-sign-csr.html">Sign a CSR</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="oracle-tde.html">Oracle Database Encryption</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="oracle-tde-prerequisites.html">Set Up Prerequisites</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="oracle-tde-configure-database-and-generate-master-key.html">Configure the Database</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="get-logs.html">Monitoring Logs</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="hsm-client-logs.html">Getting Client Logs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="get-api-logs-using-cloudtrail.html">Logging AWS CloudHSM API Calls with AWS CloudTrail</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="get-hsm-audit-logs-using-cloudwatch.html">Monitoring Audit Logs</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="get-audit-logs-from-cloudwatch.html">How Audit Logging Works</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="understand-audit-logs.html">Viewing Audit Logs in CloudWatch Logs</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="interpreting-audit-logs.html">Interpreting HSM Audit Logs</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="cloudhsm-audit-log-reference.html">Audit Log Reference</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="hsm-metrics.html">Getting Metrics</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="hsm-metrics-cw.html">Getting CloudWatch Metrics</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="troubleshooting.html">Troubleshooting</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="KnownIssues.html">Known Issues</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-lost-connection.html">Lost Connection</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-keep-hsm-users-in-sync.html">Keep HSM Users In Sync</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-verify-hsm-performance.html">Verify Performance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-create-cluster.html">Resolving Cluster Creation Failures</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-missing-audit-logs.html">Missing AWS CloudHSM Audit Logs in CloudWatch</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="client-and-software-version-history.html">Client and Software Information</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="client-history.html">Version History</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="client-supported-platforms.html">Supported Platforms</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="document-history.html">Document History</a></li>
                  <li id="toc-additional-links"><a class="btn btn-pdf-link" id="pdf-link-alt" href="cloudhsm-user-guide.pdf#top" target="_blank" title="Open PDF"></a><a class="btn btn-kindle-link" id="kindle-link-alt" target="_blank" href="http://www.amazon.com/dp/B079BV9BS8" title="Open Kindle"></a><a class="btn btn-rss-link" id="rss-link-alt" target="_blank" href="amazon-cloudhsm-release-notes.rss" title="View RSS Feed"></a></li>
               </ul>
            </div>
         </div>
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> » <a href="/cloudhsm/index.html">AWS CloudHSM</a> » <a href="index.html">User Guide</a> » <a href="getting-started.html">Getting Started with AWS CloudHSM</a> » <span class="breadcrumb">Verify the Identity and Authenticity of Your Cluster's HSM (Optional)</span></div>
                           </td>
                        </tr>
                     </table>
                     <div id="language-notice">
                        <div class="language-notice-text"></div>
                     </div>
                     <div id="SEARegionDisclaimer">This prerelease documentation is confidential and is provided under the terms of your
                        nondisclosure agreement with Amazon Web Services (AWS) or other agreement governing
                        your receipt of AWS confidential information.
                     </div>
                     <div></div>
                     <h1 class="topictitle" id="verify-hsm-identity">Verify the Identity and Authenticity of Your Cluster's HSM (Optional)</h1>
                     <p>To initialize your cluster, you sign a certificate signing request (CSR) generated
                        by the
                        cluster's first HSM. Before you do this, you might want to verify the identity and
                        authenticity
                        of the HSM. 
                     </p>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>This process is optional. However, it works only until a cluster is initialized. After
                           the
                           cluster is initialized, you cannot use this process to get the certificates or verify
                           the
                           HSMs.
                        </p>
                     </div>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#verify-hsm-overview">Overview</a></li>
                           <li><a href="#get-certificates">Get Certificates from the HSM</a></li>
                           <li><a href="#get-root-certificates">Get the Root Certificates</a></li>
                           <li><a href="#verify-certificate-chains">Verify Certificate Chains</a></li>
                           <li><a href="#compare-public-keys">Extract and Compare Public Keys</a></li>
                           <li><a href="#root-certificate">AWS CloudHSM Root Certificate</a></li>
                        </ul>
                     </div>
                     
                     <h2 id="verify-hsm-overview">Overview</h2>
                     
                     <p>To verify the identity of your cluster's first HSM, complete the following steps:</p>
                     
                     <div class="orderedlist">
                        
                        
                        
                        
                        <ol>
                           <li>
                              
                              <p><a href="verify-hsm-identity.html#get-certificates">Get the certificates and CSR</a> – In this
                                 step, you get three certificates and a CSR from the HSM. You also get two root
                                 certificates, one from AWS CloudHSM and one from the HSM hardware manufacturer.
                              </p>
                              
                           </li>
                           <li>
                              
                              <p><a href="verify-hsm-identity.html#verify-certificate-chains">Verify the certificate chains</a>
                                 – In this step, you construct two certificate chains, one to the AWS CloudHSM root
                                 certificate and one to the manufacturer root certificate. Then you verify the HSM
                                 certificate with these certificate chains to determine that AWS CloudHSM and the hardware
                                 manufacturer both attest to the identity and authenticity of the HSM.
                              </p>
                              
                           </li>
                           <li>
                              
                              <p><a href="verify-hsm-identity.html#compare-public-keys">Compare public keys</a> – In this step,
                                 you extract and compare the public keys in the HSM certificate and the cluster CSR,
                                 to
                                 ensure that they are the same. This should give you confidence that the CSR was generated
                                 by an authentic, trusted HSM.
                              </p>
                              
                           </li>
                        </ol>
                     </div>
                     
                     <p>The following diagram shows the CSR, the certificates, and their relationship to each
                        other. The subsequent list defines each certificate.
                     </p>
                     
                     <div class="mediaobject">
                        
                        <img src="images/hsm-certificate-relationships.png" alt="&#xA;        The HSM certificates and their relationships.&#xA;      " />
                        
                        
                        
                     </div>
                     
                     <div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><b><span class="term">AWS Root Certificate</span></b></dt>
                           
                           <dd>
                              
                              <p>This is AWS CloudHSM's root certificate. You can view and download this certificate
                                 at
                                 <a href="verify-hsm-identity.html#root-certificate">https://alpha-docs-aws.amazon.com/cloudhsm/latest/userguide/root-certificate.html</a>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><b><span class="term">Manufacturer Root Certificate</span></b></dt>
                           
                           <dd>
                              
                              <p>This is the hardware manufacturer's root certificate. You can view and download this
                                 certificate at <a href="https://www.cavium.com/LS/TAmanuCert/" target="_blank">https://www.cavium.com/LS/TAmanuCert/</a>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><b><span class="term">AWS Hardware Certificate</span></b></dt>
                           
                           <dd>
                              
                              <p>AWS CloudHSM created this certificate when it claimed the HSM hardware. This certificate
                                 asserts that AWS CloudHSM owns the hardware.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><b><span class="term">Manufacturer Hardware Certificate</span></b></dt>
                           
                           <dd>
                              
                              <p>The HSM hardware manufacturer created this certificate when it manufactured the HSM
                                 hardware. This certificate asserts that the manufacturer created the hardware.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><b><span class="term">HSM Certificate</span></b></dt>
                           
                           <dd>
                              
                              <p>The HSM certificate is generated by the FIPS-validated hardware when you create the
                                 first HSM in the cluster. This certificate asserts that the HSM hardware created the
                                 HSM.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><b><span class="term">Cluster CSR</span></b></dt>
                           
                           <dd>
                              
                              <p>The first HSM creates the cluster CSR. When you <a href="initialize-cluster.html#sign-csr">sign the
                                    cluster CSR</a>, you claim the cluster. Then, you can use the signed CSR to <a href="initialize-cluster.html#initialize">initialize the cluster</a>.
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div>
                     
                     
                     <h2 id="get-certificates">Get Certificates from the HSM</h2>
                     
                     <p>To verify the identity and authenticity of your HSM, start by getting a CSR and five
                        certificates. You get three of the certificates from the HSM, which you can do with
                        the <a href="https://console.aws.amazon.com/cloudhsm/" target="_blank">AWS CloudHSM console</a>, the <a href="https://aws.amazon.com/cli/" target="_blank">AWS Command Line Interface (AWS CLI)</a>, or the AWS CloudHSM API.
                     </p>
                     
                     <p class="title"><b>To get the CSR and HSM certificates (console)</b></p>
                     <ol>
                        <li>
                           <p>Open the AWS CloudHSM console at
                              <a href="https://console.aws.amazon.com/cloudhsm/" target="_blank">https://console.aws.amazon.com/cloudhsm/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>Choose <b>Initialize</b> next to the cluster that you created
                              previously.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>When the certificates and CSR are ready, you see links to download them.</p>
                           
                           <div class="mediaobject">
                              
                              <img src="images/console-download-certificates.png" alt="&#xA;            The download certificate signing request page in the AWS CloudHSM console.&#xA;          " />
                              
                              
                              
                           </div>
                           
                           <p>Choose each link to download and save the CSR and certificates. To simplify the
                              subsequent steps, save all of the files to the same directory and use the default
                              file
                              names. 
                           </p>
                           
                        </li>
                     </ol>
                     
                     <p class="title"><b>To get the CSR and HSM certificates (<a href="https://alpha-docs-aws.amazon.com/cli/latest/userguide/" target="_blank">AWS CLI</a>)</b></p>
                     <ul>
                        <li>
                           
                           <p>At a command prompt, run the <b><a href="https://alpha-docs-aws.amazon.com/cli/latest/reference/cloudhsmv2/describe-clusters.html" target="_blank">describe-clusters</a></b>
                              command four times, extracting the CSR and different certificates each time and saving
                              them to files.
                           </p>
                           
                           <ol>
                              <li>
                                 
                                 <p>Issue the following command to extract the cluster CSR. Replace
                                    <em class="replaceable"><code>&lt;cluster ID&gt;</code></em> with the ID of the cluster that you created
                                    previously.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><strong class="userinput"><code>aws cloudhsmv2 describe-clusters --filters clusterIds=<em class="replaceable"><code>&lt;cluster ID&gt;</code></em> \
                                   --output text \
                                   --query 'Clusters[].Certificates.ClusterCsr' \
                                   &gt; <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_ClusterCsr.csr</code></strong></code></pre>
                                 </li>
                              <li>
                                 
                                 <p>Issue the following command to extract the HSM certificate. Replace
                                    <em class="replaceable"><code>&lt;cluster ID&gt;</code></em> with the ID of the cluster that you created
                                    previously.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><strong class="userinput"><code>aws cloudhsmv2 describe-clusters --filters clusterIds=<em class="replaceable"><code>&lt;cluster ID&gt;</code></em> \
                                   --output text \
                                   --query 'Clusters[].Certificates.HsmCertificate' \
                                   &gt; <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_HsmCertificate.crt</code></strong></code></pre>
                                 </li>
                              <li>
                                 
                                 <p>Issue the following command to extract the AWS hardware certificate. Replace
                                    <em class="replaceable"><code>&lt;cluster ID&gt;</code></em> with the ID of the cluster that you created
                                    previously.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><strong class="userinput"><code>aws cloudhsmv2 describe-clusters --filters clusterIds=<em class="replaceable"><code>&lt;cluster ID&gt;</code></em> \
                                   --output text \
                                   --query 'Clusters[].Certificates.AwsHardwareCertificate' \
                                   &gt; <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_AwsHardwareCertificate.crt</code></strong></code></pre>
                                 </li>
                              <li>
                                 
                                 <p>Issue the following command to extract the manufacturer hardware certificate.
                                    Replace <em class="replaceable"><code>&lt;cluster ID&gt;</code></em> with the ID of the cluster that you
                                    created previously.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><strong class="userinput"><code>aws cloudhsmv2 describe-clusters --filters clusterIds=<em class="replaceable"><code>&lt;cluster ID&gt;</code></em> \
                                   --output text \
                                   --query 'Clusters[].Certificates.ManufacturerHardwareCertificate' \
                                   &gt; <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_ManufacturerHardwareCertificate.crt</code></strong></code></pre>
                                 </li>
                           </ol>
                           
                        </li>
                     </ul>
                     
                     <p class="title"><b>To get the CSR and HSM certificates (AWS CloudHSM API)</b></p>
                     <ul>
                        <li>
                           
                           <p>Send a <a href="https://alpha-docs-aws.amazon.com/cloudhsm/latest/APIReference/API_DescribeClusters.html" target="_blank">DescribeClusters</a> request, then extract and save the CSR and
                              certificates from the response.
                           </p>
                           
                        </li>
                     </ul>
                     
                     
                     <h2 id="get-root-certificates">Get the Root Certificates</h2>
                     
                     <p>Follow these steps to get the root certificates for AWS CloudHSM and the manufacturer.
                        Save the
                        root certificate files to the directory that contains the CSR and HSM certificate
                        files.
                     </p>
                     
                     <p class="title"><b>To get the AWS CloudHSM and manufacturer root certificates</b></p>
                     <ol>
                        <li>
                           
                           <p>Go to <a href="verify-hsm-identity.html#root-certificate">https://alpha-docs-aws.amazon.com/cloudhsm/latest/userguide/root-certificate.html</a>, and then
                              choose <b>AWS_CloudHSM_Root-G1.zip</b>. After you download the file,
                              extract (unzip) its contents.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Go to <a href="https://www.cavium.com/LS/TAmanuCert/" target="_blank">https://www.cavium.com/LS/TAmanuCert/</a>, and then choose <b>Download
                                 Certificate</b>. You might need to right-click the <b>Download
                                 Certificate</b> link and then choose <b>Save Link As...</b> to save
                              the certificate file.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     <h2 id="verify-certificate-chains">Verify Certificate Chains</h2>
                     
                     <p>In this step, you construct two certificate chains, one to the AWS CloudHSM root certificate
                        and
                        one to the manufacturer root certificate. Then use OpenSSL to verify the HSM certificate
                        with
                        each certificate chain.
                     </p>
                     
                     <p>To create the certificate chains, open a Linux shell. You need OpenSSL, which is available
                        in most Linux shells, and you need the <a href="verify-hsm-identity.html#get-root-certificates">root
                           certificate</a> and <a href="verify-hsm-identity.html#get-certificates">HSM certificate files</a> that you
                        downloaded. However, you do not need the AWS CLI for this step, and the shell does
                        not need to
                        be associated with your AWS account.
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>To verify the certificate chain, use OpenSSL 1.0. Due to a change in OpenSSL certificate
                           verification, the following instructions do not work with OpenSSL 1.1.
                        </p>
                     </div>
                     
                     <p class="title"><b>To verify the HSM certificate with the AWS CloudHSM root certificate</b></p>
                     <ol>
                        <li>
                           
                           <p>Navigate to the directory where you saved the <a href="verify-hsm-identity.html#get-root-certificates">root certificate</a> and <a href="verify-hsm-identity.html#get-certificates">HSM certificate files</a>
                              that you downloaded. The following commands assume that all of the certificates are
                              in the
                              current directory and use the default file names. 
                           </p>
                           
                           <p>Use the following command to create a certificate chain that includes the AWS
                              hardware certificate and the AWS CloudHSM root certificate, in that order. Replace
                              <em class="replaceable"><code>&lt;cluster ID&gt;</code></em> with the ID of the cluster that you created
                              previously. 
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><strong class="userinput"><code>cat <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_AwsHardwareCertificate.crt \
      AWS_CloudHSM_Root-G1.crt \
      &gt; <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_AWS_chain.crt</code></strong></code></pre>
                           </li>
                        <li>
                           
                           <p>Use the following OpenSSL command to verify the HSM certificate with the AWS
                              certificate chain. Replace <em class="replaceable"><code>&lt;cluster ID&gt;</code></em> with the ID of the
                              cluster that you created previously.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><strong class="userinput"><code>openssl verify -CAfile <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_AWS_chain.crt <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_HsmCertificate.crt</code></strong><code class="computeroutput" copy="false">
<em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_HsmCertificate.crt: OK</code></code></pre>
                           </li>
                     </ol>
                     
                     <p class="title"><b>To verify the HSM certificate with the manufacturer root certificate</b></p>
                     <ol>
                        <li>
                           
                           <p>Use the following command to create a certificate chain that includes the manufacturer
                              hardware certificate and the manufacturer root certificate, in that order. Replace
                              <em class="replaceable"><code>&lt;cluster ID&gt;</code></em> with the ID of the cluster that you created
                              previously.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><strong class="userinput"><code>cat <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_ManufacturerHardwareCertificate.crt \
      cavium_cert.crt \
      &gt; <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_manufacturer_chain.crt</code></strong></code></pre>
                           </li>
                        <li>
                           
                           <p>Use the following OpenSSL command to verify the HSM certificate with the manufacturer
                              certificate chain. Replace <em class="replaceable"><code>&lt;cluster ID&gt;</code></em> with the ID of the
                              cluster that you created previously.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><strong class="userinput"><code>openssl verify -CAfile <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_manufacturer_chain.crt <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_HsmCertificate.crt</code></strong><code class="computeroutput" copy="false">
<em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_HsmCertificate.crt: OK</code></code></pre>
                           </li>
                     </ol>
                     
                     
                     <h2 id="compare-public-keys">Extract and Compare Public Keys</h2>
                     
                     <p>Use OpenSSL to extract and compare the public keys in the HSM certificate and the
                        cluster
                        CSR, to ensure that they are the same.
                     </p>
                     
                     <p>To compare the public keys, use your Linux shell. You need OpenSSL, which is available
                        in
                        most Linux shells, but you do not need the AWS CLI for this step The shell does not
                        need to be
                        associated with your AWS account.
                     </p>
                     
                     <p class="title"><b>To extract and compare the public keys</b></p>
                     <ol>
                        <li>
                           
                           <p>Use the following command to extract the public key from the HSM certificate.</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><strong class="userinput"><code>openssl x509 -in <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_HsmCertificate.crt -pubkey -noout &gt; <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_HsmCertificate.pub</code></strong></code></pre>
                           </li>
                        <li>
                           
                           <p>Use the following command to extract the public key from the cluster CSR.</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><strong class="userinput"><code>openssl req -in <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_ClusterCsr.csr -pubkey -noout &gt; <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_ClusterCsr.pub</code></strong></code></pre>
                           </li>
                        <li>
                           
                           <p>Use the following command to compare the public keys. If the public keys are
                              identical, the following command produces no output.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><strong class="userinput"><code>diff <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_HsmCertificate.pub <em class="replaceable"><code>&lt;cluster ID&gt;</code></em>_ClusterCsr.pub</code></strong></code></pre>
                           </li>
                     </ol>
                     
                     <p>After you verify the identity and authenticity of the HSM, proceed to <a href="initialize-cluster.html">Initialize the Cluster</a>.
                     </p>
                     
                     		
                     <h2 id="root-certificate">AWS CloudHSM Root Certificate</h2>
                     		
                     <p>Download the AWS CloudHSM root certificate: <a href="samples/AWS_CloudHSM_Root-G1.zip" target="_blank">AWS_CloudHSM_Root-G1.zip</a>.
                     </p>
                     		<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number: 17952736724058547791 (0xf924eeeecf9ea64f)
    Signature Algorithm: sha256WithRSAEncryption
        Issuer: C=US,
                ST=Virginia,
                L=Herndon,
                O=Amazon Web Services INC.,
                OU=CloudHSM,
                CN=AWS CloudHSM Root G1
        Validity
            Not Before: Apr 28 08:37:46 2017 GMT
            Not After : Apr 26 08:37:46 2027 GMT
        Subject: C=US,
                 ST=Virginia,
                 L=Herndon,
                 O=Amazon Web Services INC.,
                 OU=CloudHSM,
                 CN=AWS CloudHSM Root G1
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
                Public-Key: (2048 bit)
                Modulus:
                    00:c8:e3:f6:2a:e0:1f:1e:66:73:00:1e:57:dc:3e:
                    69:f1:9b:73:73:24:58:60:85:80:45:99:a2:85:3f:
                    e7:f9:67:41:9f:39:d2:e8:e1:88:ec:18:07:5c:38:
                    98:25:5a:45:5f:1f:c4:60:0e:29:e4:ac:65:f0:b6:
                    92:83:34:62:1a:e7:c6:ae:0f:40:66:52:bb:0b:6a:
                    c6:78:27:57:d6:32:3b:6c:0a:83:7d:a7:e9:a1:6c:
                    10:46:27:74:2c:6e:86:3a:fd:71:18:1f:84:8e:00:
                    84:bb:00:dc:57:d8:48:94:5c:13:7a:ff:3b:37:52:
                    60:cd:5a:64:57:35:95:df:67:68:39:e2:f9:85:ad:
                    59:ee:a6:9a:97:75:35:f4:e1:32:08:d3:0e:2f:bc:
                    33:04:f3:34:e8:c9:b5:18:fd:69:83:e0:b7:5a:b4:
                    3f:ce:1c:2f:b5:1e:0f:4f:15:f0:27:00:23:67:d5:
                    b8:2c:cb:d6:ef:eb:34:25:80:28:33:fa:e6:3a:31:
                    58:7a:0b:fd:4f:6d:d3:1c:64:10:47:8c:4f:ab:e3:
                    61:0c:a2:a9:0b:2d:e6:59:f4:1c:2c:92:2a:a4:f9:
                    a4:83:21:3a:66:dc:c7:75:06:15:fe:83:9d:f8:25:
                    7f:3b:66:e8:aa:9f:d1:e5:ba:1d:5a:c5:2e:21:ee:
                    52:61
                Exponent: 65537 (0x10001)
        X509v3 extensions:
            X509v3 Subject Key Identifier: 
                27:00:6B:50:D5:4F:38:8A:35:21:38:D3:0D:A9:5E:D2:10:39:A4:EB
            X509v3 Authority Key Identifier: 
                keyid:27:00:6B:50:D5:4F:38:8A:35:21:38:D3:0D:A9:5E:D2:10:39:A4:EB

            X509v3 Basic Constraints: 
                CA:TRUE
    Signature Algorithm: sha256WithRSAEncryption
         71:ff:e5:46:27:9c:d0:85:97:5e:c0:82:9a:d4:1b:48:96:75:
         2a:40:32:07:80:95:c5:eb:26:1b:46:37:7e:86:12:99:68:b1:
         15:bb:f5:55:85:6f:a2:e4:28:70:47:73:07:84:fc:12:28:cc:
         8b:3e:b8:f6:60:85:bb:23:6a:cb:6e:a7:ed:82:7e:ed:64:9c:
         c1:df:c8:51:db:b9:a4:76:ee:ba:53:aa:e7:30:86:74:5e:be:
         2f:1a:c1:88:30:c4:61:02:50:9f:c9:80:7b:7e:f5:1e:49:c8:
         6c:1a:39:00:4d:98:1e:21:26:4a:02:f5:d5:3e:6c:47:d9:9c:
         94:6f:d7:25:2e:1d:7c:a3:18:ee:8a:32:8a:15:f3:85:39:76:
         c3:b9:ba:4e:58:0c:5b:65:44:2e:eb:ab:6c:27:9a:a6:67:df:
         22:d4:81:02:2e:c6:34:1b:fe:55:31:8b:d5:73:57:d8:0e:0d:
         5a:27:7d:ce:3d:3b:84:80:b3:32:00:e0:6a:f0:32:8a:85:2a:
         f8:de:20:bf:65:f7:c9:a8:42:c9:cb:fa:03:d4:10:29:5e:25:
         63:a5:71:06:2e:72:78:8a:05:c3:f9:56:e9:b1:e4:2b:6e:f7:
         46:5d:b3:12:ed:14:2a:51:d4:56:56:48:ab:7d:fe:d6:49:af:
         d6:8e:84:62
</code></pre>
                     	</div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="create-hsm.html">« Previous </a><a class="awstoc" accesskey="n" href="initialize-cluster.html">Next »</a></div>
                     <div id="copyright-main-footer">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Overview"><a class="pagetoc" href="#verify-hsm-overview">Overview</a></li>
                        <li class="pagetoc" name="Get Certificates from the HSM"><a class="pagetoc" href="#get-certificates">Get Certificates from the HSM</a></li>
                        <li class="pagetoc" name="Get the Root Certificates"><a class="pagetoc" href="#get-root-certificates">Get the Root Certificates</a></li>
                        <li class="pagetoc" name="Verify Certificate Chains"><a class="pagetoc" href="#verify-certificate-chains">Verify Certificate Chains</a></li>
                        <li class="pagetoc" name="Extract and Compare Public Keys"><a class="pagetoc" href="#compare-public-keys">Extract and Compare Public Keys</a></li>
                        <li class="pagetoc" name="AWS CloudHSM Root Certificate"><a class="pagetoc" href="#root-certificate">AWS CloudHSM Root Certificate</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using our site, you consent
            to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      <div id="footer">
         <div id="footer_short_fb" class="hide" title="Feedback"><a target="_blank" href="https://alpha-docs-aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=cdcb09fa-3f0a-4265-9254-d796483b9489&amp;topic_url=http://alpha-docs-aws.amazon.com/en_us/cloudhsm/latest/userguide/verify-hsm-identity.html&amp;hidden_guide_name=User Guide&amp;hidden_api_version=&amp;hidden_file_name=verify-hsm-identity"><i class="awsdocs-footer-text fa fa-envelope-o"></i></a></div>
         <div id="footer_toggle" class="mediaobject">
            <div id="footer_toggle_img" class="awsdocs-footer-text fa fa-caret-down"></div>
            <div id="footer_toggle_img_collapse" class="hide awsdocs-footer-text fa fa-caret-right"></div>
         </div>
         <div id="footer-left"><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/terms">Terms of Use</a><span class="awsdocs-footer-text"> | </span><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/privacy">Privacy</a><span class="awsdocs-footer-text"> | </span><span class="awsdocs-footer-text">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</span></div>
         <div id="footer-right">
            <div id="feedback">
               <div id="forums"><a id="forum_link" target="_blank" href="http://forums.aws.amazon.com/forum.jspa?forumID=156" class="awsdocs-footer-text">Have a question? Try the Forums.</a></div>
               <div id="feedback-message" class="awsdocs-footer-text">Did this page help you?</div>
               <div id="feedback-yesno-buttons"><a class="awstoc btn btn-default" target="_blank" href="feedbackyes.html?topic_url=http://alpha-docs-aws.amazon.com/en_us/cloudhsm/latest/userguide/verify-hsm-identity.html">Yes</a><a class="awstoc btn btn-default" target="_blank" href="feedbackno.html?topic_url=http://alpha-docs-aws.amazon.com/en_us/cloudhsm/latest/userguide/verify-hsm-identity.html">No</a></div>
               <div id="feedback-feedback-button"><a class="awstoc btn btn-default" target="_blank" href="https://alpha-docs-aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=cdcb09fa-3f0a-4265-9254-d796483b9489&amp;topic_url=http://alpha-docs-aws.amazon.com/en_us/cloudhsm/latest/userguide/verify-hsm-identity.html&amp;hidden_guide_name=User Guide&amp;hidden_api_version=&amp;hidden_file_name=verify-hsm-identity">Feedback</a></div>
            </div>
         </div>
      </div>
   </body>
</html>